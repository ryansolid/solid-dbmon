!function(){"use strict";var e=function(e,t){var n=new l(e,t);return function(){return n.current()}};Object.defineProperty(e,"default",{value:e}),e.root=function(e){var t=p,n=0===e.length?g:new l(null,null),r=void 0,o=0===e.length?null:function(){null!==d?f.disposes.add(n):N(n)};return p=n,null===d?r=function(e,t,n){try{return null===t?e():e(t)}finally{p=n}}(e,o,t):(r=null===o?e():e(o),p=t),r},e.on=function(t,n,r,l){var o;return Array.isArray(t)&&(o=t,t=function(){for(var e=0;e<o.length;e++)o[e]()}),l=!!l,e(i,r);function i(e){var r=h;return t(),l?l=!1:(h=null,e=n(e),h=r),e}},e.effect=function(e,t){new l(e,t)},e.data=function(e){var t=new r(e);return function(e){return 0===arguments.length?t.current():t.next(e)}},e.value=function(t,n){var r=e.data(t),l=-1;return function(e){if(0===arguments.length)return r();if(!(n?n(t,e):t===e)){var o=f.time;if(l===o)throw new Error("conflicting values: "+e+" is not the same as "+t);l=o,t=e,r(e)}return e}},e.freeze=function(e){var t=void 0;if(null!==d)t=e();else{(d=f).changes.reset();try{t=e(),v()}finally{d=null}}return t},e.sample=function(e){var t,n=h;return null!==n?(h=null,t=e(),h=n):t=e(),t},e.cleanup=function(e){null!==p?null===p.cleanups?p.cleanups=[e]:p.cleanups.push(e):console.warn("cleanups created without a root or parent will never be run")},e.makeDataNode=function(e){return new r(e)},e.makeComputationNode=function(e,t){return new l(e,t)},e.isFrozen=function(){return null!==d},e.isListening=function(){return null!==h};var t=function(){return function(){this.time=0,this.changes=new i,this.updates=new i,this.disposes=new i}}(),n={time:function(){return f.time}},r=function(){function e(e){this.value=e,this.pending=s,this.log=null}return e.prototype.current=function(){return null!==h&&function(e,t){null===e.log&&(e.log=new o);y(e.log,t)}(this,h),this.value},e.prototype.next=function(e){if(null!==d)if(this.pending!==s){if(e!==this.pending)throw new Error("conflicting changes: "+e+" !== "+this.pending)}else this.pending=e,f.changes.add(this);else null!==this.log?(this.pending=e,f.changes.add(this),v()):this.value=e;return e},e.prototype.clock=function(){return n},e}(),l=function(){function e(e,t){if(this.state=u,this.source1=null,this.source1slot=0,this.sources=null,this.sourceslots=null,this.log=null,this.owned=null,this.cleanups=null,this.fn=e,this.value=t,this.age=f.time,null!==e){var n=p,r=h;null===n&&console.warn("computations created without a root or parent will never be disposed"),p=h=this,null===d?function(e){d=f,f.changes.reset(),f.updates.reset();try{e.value=e.fn(e.value),(f.changes.count>0||f.updates.count>0)&&(f.time++,m(f))}finally{d=p=h=null}}(this):this.value=this.fn(this.value),n&&n!==g&&(null===n.owned?n.owned=[this]:n.owned.push(this)),p=n,h=r}}return e.prototype.current=function(){if(null!==h){if(this.age===f.time){if(this.state===c)throw new Error("circular dependency");S(this)}!function(e,t){null===e.log&&(e.log=new o);y(e.log,t)}(this,h)}return this.value},e.prototype.clock=function(){return n},e}(),o=function(){return function(){this.node1=null,this.node1slot=0,this.nodes=null,this.nodeslots=null}}(),i=function(){function e(){this.items=[],this.count=0}return e.prototype.reset=function(){this.count=0},e.prototype.add=function(e){this.items[this.count++]=e},e.prototype.run=function(e){for(var t=this.items,n=0;n<this.count;n++)e(t[n]),t[n]=null;this.count=0},e}(),s={},u=0,a=1,c=2,f=new t,d=null,h=null,p=null,g=new l(null,null);function y(e,t){var n,r=null===t.source1?-1:null===t.sources?0:t.sources.length;null===e.node1?(e.node1=t,e.node1slot=r,n=-1):null===e.nodes?(e.nodes=[t],e.nodeslots=[r],n=0):(n=e.nodes.length,e.nodes.push(t),e.nodeslots.push(r)),null===t.source1?(t.source1=e,t.source1slot=n):null===t.sources?(t.sources=[e],t.sourceslots=[n]):(t.sources.push(e),t.sourceslots.push(n))}function v(){var e=p;f.updates.reset(),f.time++;try{m(f)}finally{d=h=null,p=e}}function m(e){var t=d,n=0;for(d=e,e.disposes.reset();0!==e.changes.count||0!==e.updates.count||0!==e.disposes.count;)if(n>0&&e.time++,e.changes.run(b),e.updates.run(S),e.disposes.run(N),n++>1e5)throw new Error("Runaway clock detected");d=t}function b(e){e.value=e.pending,e.pending=s,e.log&&w(e.log)}function w(e){var t=e.node1,n=e.nodes;if(null!==t&&C(t),null!==n)for(var r=0,l=n.length;r<l;r++)C(n[r])}function C(e){var t=f.time;e.age<t&&(e.age=t,e.state=a,f.updates.add(e),null!==e.owned&&function e(t){for(var n=0;n<t.length;n++){var r=t[n];r.age=f.time,r.state=u,null!==r.owned&&e(r.owned)}}(e.owned),null!==e.log&&w(e.log))}function S(e){if(e.state===a){var t=p,n=h;p=h=e,e.state=c,x(e,!1),e.value=e.fn(e.value),e.state=u,p=t,h=n}}function x(e,t){var n,r,l=e.source1,o=e.sources,i=e.sourceslots,s=e.cleanups,u=e.owned;if(null!==s){for(n=0;n<s.length;n++)s[n](t);e.cleanups=null}if(null!==u){for(n=0;n<u.length;n++)N(u[n]);e.owned=null}if(null!==l&&(A(l,e.source1slot),e.source1=null),null!==o)for(n=0,r=o.length;n<r;n++)A(o.pop(),i.pop())}function A(e,t){var n,r,l=e.nodes,o=e.nodeslots;-1===t?e.node1=null:(n=l.pop(),r=o.pop(),t!==l.length&&(l[t]=n,o[t]=r,-1===r?n.source1slot=t:n.sourceslots[r]=t))}function N(e){e.fn=null,e.log=null,x(e,!0)}const k=Symbol("solid-node"),E=Symbol("solid-proxy"),j={get(t,n){if("_state"===n)return t;if(n===E||n===k)return;const r=t[n],l=T(r);if(e.isListening()&&"function"!=typeof r){let o,i;l&&(o=P(r))&&(i=o._self||(o._self=e.makeDataNode())).current(),(i=(o=P(t))[n]||(o[n]=e.makeDataNode())).current()}return l?O(r):r},set:()=>!0,deleteProperty:()=>!0};function O(e){return e[E]||(e[E]=new Proxy(e,j))}function T(e){return null!==e&&"object"==typeof e&&!(e instanceof Element)}function L(e){let t,n,r;if(t=null!=e&&e._state)return t;if(!T(e))return e;if(Array.isArray(e)){Object.isFrozen(e)&&(e=e.slice(0));for(let t=0,l=e.length;t<l;t++)(n=L(r=e[t]))!==r&&(e[t]=n)}else{Object.isFrozen(e)&&(e=Object.assign({},e));let t=Object.keys(e);for(let l=0,o=t.length;l<o;l++)(n=L(r=e[t[l]]))!==r&&(e[t[l]]=n)}return e}function P(e){let t=e[k];return t||(e[k]=t={}),t}function M(e,t,n){if(n=L(n),e[t]===n)return;const r=Array.isArray(e)||!(t in e);void 0===n?delete e[t]:e[t]=n;let l,o=P(e);(l=o[t])&&l.next(),r&&(l=o._self)&&l.next()}function B(e,t){const n=Object.keys(t)||[];for(let r=0;r<n.length;r+=1){const l=n[r];M(e,l,t[l])}}function _(e,t,n=[]){if(1===t.length){let r=t[0];if("function"==typeof r&&void 0===(r=r(O(e),n)))return;return B(e,r)}const r=t.shift(),l=typeof r,o=Array.isArray(e);if(Array.isArray(r))for(let l=0;l<r.length;l++)_(e,[r[l]].concat(t),n.concat([r[l]]));else if(o&&"function"===l)for(let l=0;l<e.length;l++)r(e[l],l)&&_(e,[l].concat(t),n.concat([l]));else if(o&&"object"===l){const{from:l=0,to:o=e.length-1,by:i=1}=r;for(let r=l;r<=o;r+=i)_(e,[r].concat(t),n.concat([r]))}else if(o&&"*"===r)for(let r=0;r<e.length;r++)_(e,[r].concat(t),n.concat([r]));else{if(1===t.length){let l=t[0];if("function"==typeof l){const t=e[r];l=l(T(t)?O(t):t,n.concat([r]))}return T(e[r])&&T(l)&&!Array.isArray(l)?B(e[r],l):M(e,r,l)}_(e[r],t,n.concat([r]))}}function z(e,t,n,r,l){let o=t[n];if(e===o)return;if(!T(e)||null==o)return e!==o&&M(t,n,e);if(Array.isArray(e)){if(e.length&&o.length&&(!r||l&&null!=e[0][l])){let t,n,i,s,u,a,c,f,d=new Array(e.length),h=new Map;for(i=0,s=Math.min(o.length,e.length);i<s&&(o[i]===e[i]||l&&o[i][l]===e[i][l]);i++)z(e[i],o,i,r,l);for(s=o.length-1,u=e.length-1;s>=0&&u>=0&&(o[s]===e[u]||l&&o[s][l]===e[u][l]);s--,u--)d[u]=o[s];for(c=new Array(u+1),n=u;n>=i;n--)a=e[n],f=l?a[l]:a,t=h.get(f),c[n]=void 0===t?-1:t,h.set(f,n);for(t=i;t<=s;t++)a=o[t],f=l?a[l]:a,void 0!==(n=h.get(f))&&-1!==n&&(d[n]=o[t],n=c[n],h.set(f,n));for(n=i;n<e.length;n++)d.hasOwnProperty(n)?(M(o,n,d[n]),z(e[n],o,n,r,l)):M(o,n,e[n])}else for(let t=0,n=e.length;t<n;t++)z(e[t],o,t,r,l);return void(o.length>e.length&&M(o,"length",e.length))}const i=Object.keys(e);for(let t=0,n=i.length;t<n;t++)z(e[i[t]],o,i[t],r,l);const s=Object.keys(o);for(let t=0,n=s.length;t<n;t++)void 0===e[s[t]]&&M(o,s[t],void 0)}const{root:F,cleanup:D,sample:H,freeze:R}=e,q="__rGroup",Q="nextSibling",V="previousSibling";let G=0;function I(e,t){for(var n=0,r=t.length;n<r;n++){var l=t[n];l instanceof Node?11===l.nodeType?I(e,l.childNodes):e.push(l):null==l||!0===l||!1===l||(Array.isArray(l)?I(e,l):"string"==typeof l?e.push(document.createTextNode(l)):e.push(document.createTextNode(l.toString())))}return e}function $(e,t,n,r){if(Array.isArray(e)){if(!e.length)return;let l=(e=I([],e))[0];1!==e.length&&(l[q]=e[e.length-1][q]=r);for(let r=0;r<e.length;r++)n?t.insertBefore(e[r],n):t.appendChild(e[r]);return l}let l,o=typeof e;return"string"===o||"number"===o?e=document.createTextNode(e):11===e.nodeType&&(l=e.firstChild)&&l!==e.lastChild&&(l[q]=e.lastChild[q]=r),n?t.insertBefore(e,n):t.appendChild(e),l||e}function J(e,t,n){const r=e[q];if(r)for(e=e[t];e&&e[q]!==r;)e=e[t];return n?e:e[t]}function K(e,t,n){let r;for(;t!==n;)r=t.nextSibling,e.removeChild(t),t=r}function U(e,t,n,r){let l;for(;t!==n;)l=t.nextSibling,e.insertBefore(t,r),t=l}function W(e,t){e.get(t)(),e.delete(t)}function X(e,t,n,r,l,o,i){const{wrap:s,cleanup:u,root:a,sample:c}=l,{afterRender:f,fallback:d}=r;let h=new Map,p=!1;function g(t,r,l){return a(o=>{const i=$(n(t,r),e,l,++G);return h.set(i,o),i})}function y(){f&&f(o?o.nextSibling:e.firstChild,i)}u(function(){for(let e of h.keys())h.get(e)();h.clear()}),s((n=[])=>{const r=t()||[];return c(()=>{e=i&&i.parentNode||e;const t=r.length;if(p){if(void 0!==o||void 0!==i){let t=null!=o?o.nextSibling:e.firstChild;K(e,t,void 0===i?null:i)}else e.textContent="";for(let e of h.keys())h.get(e)();h.clear(),p=!1}if(0===t){if(void 0!==o||void 0!==i){let t=null!=o?o.nextSibling:e.firstChild;K(e,t,void 0===i?null:i)}else e.textContent="";for(let e of h.keys())h.get(e)();return h.clear(),y(),d&&(p=!0,a(t=>{const n=$(d(),e,i,++G);h.set(n,t)})),[]}if(0===n.length){let e=new Array(t);for(let n=0;n<t;n++)g(e[n]=r[n],n,i);return y(),e}let l,s,u=0,c=0,f=!0,v=n.length-1,m=t-1,b=o?o.nextSibling:e.firstChild,w=b,C=i?i.previousSibling:e.lastChild,S=i;e:for(;f;){let t;for(f=!1,l=n[u],s=r[c];l===s;){if(u++,c++,w=b=J(b,Q),v<u||m<c)break e;l=n[u],s=r[c]}for(l=n[v],s=r[m];l===s;){if(v--,m--,C=(S=J(C,V,!0)).previousSibling,v<u||m<c)break e;l=n[v],s=r[m]}for(l=n[v],s=r[c];l===s;){f=!0;let o=(t=J(C,V)).nextSibling;if(w!==o&&(U(e,o,C.nextSibling,w),C=t),c++,--v<u||m<c)break e;l=n[v],s=r[c]}for(l=n[u],s=r[m];l===s;){if(f=!0,t=J(b,Q),b!==S){let n=t.previousSibling;U(e,b,t,S),S=n,b=t}if(m--,v<++u||m<c)break e;l=n[u],s=r[m]}}if(m<c){if(u<=v){let t,n;for(;u<=v;)t=(n=J(C,V,!0)).previousSibling,K(e,n,C.nextSibling),W(h,n),C=t,v--}return y(),r.slice(0)}if(v<u){if(c<=m)for(;c<=m;)g(r[c],c,S),c++;return y(),r.slice(0)}const x=new Array(m+1-c);for(let e=c;e<=m;e++)x[e]=-1;const A=new Map;for(let e=c;e<=m;e++)A.set(r[e],e);let N=0,k=[];for(let e=u;e<=v;e++)A.has(n[e])?(x[A.get(n[e])]=e,N++):k.push(e);if(0===N){const t=b!==e.firstChild||C!==e.lastChild;let n,l=b;for(S=C.nextSibling;l!==S;)n=J(l,Q),W(h,l),t&&K(e,l,n),l=n,u++;!t&&(e.textContent="");for(let e=c;e<=m;e++)g(r[e],e,S);return y(),r.slice(0)}const E=function(e,t){for(var n=[],r=[],l=-1,o=new Array(e.length),i=t,s=e.length;i<s;i++){var u=e[i];if(!(u<0)){var a=Y(n,u);-1!==a&&(o[i]=r[a]),a===l?(n[++l]=u,r[l]=i):u<n[a+1]&&(n[a+1]=u,r[a+1]=i)}}for(i=r[l];l>=0;i=o[i],l--)n[l]=i;return n}(x,c),j=[];let O,T=b,L=E.length-1;for(let e=u;e<=v;e++)j[e]=T,T=J(T,Q);for(let t=0;t<k.length;t++){let n=j[k[t]];K(e,n,J(n,Q)),W(h,n)}for(let t=m;t>=c;t--)E[L]===t?(S=j[x[E[L]]],L--):(-1===x[t]?O=g(r[t],t,S):(O=j[x[t]],U(e,O,J(O,Q),S)),S=O);return y(),r.slice(0)})})}function Y(e,t){var n=-1,r=e.length;if(r>0&&e[r-1]<=t)return r-1;for(;r-n>1;){var l=Math.floor((n+r)/2);e[l]>t?r=l:n=l}return n}const Z="property";var ee={href:{type:"attribute"},style:{type:Z,alias:"style.cssText"},for:{type:Z,alias:"htmlFor"},class:{type:Z,alias:"className"},spellCheck:{type:Z,alias:"spellcheck"},allowFullScreen:{type:Z,alias:"allowFullscreen"},autoCapitalize:{type:Z,alias:"autocapitalize"},autoFocus:{type:Z,alias:"autofocus"},autoPlay:{type:Z,alias:"autoplay"}};function te(e,t,n,r){if(!n)return e.textContent="";if(Array.isArray(t))for(let n=0;n<t.length;n++)e.removeChild(t[n]);else if(null!=t&&""!=t)if(void 0!==r){let t,l=n.previousSibling;for(;l!==r;)t=l.previousSibling,e.removeChild(l),l=t}else e.removeChild(n.previousSibling);return""}const ne=new Set;function re(e){const t=e.composedPath&&e.composedPath()[0]||e.target,[n,r]=function e(t,n){let r,l,o=t[n],i=t.model;return(void 0===o||o.length>1&&void 0===i)&&(l=t.host||t.parentNode)&&(r=e(l,n)),[void 0!==o?o:r&&r[0],i||r&&r[1]]}(t,`__${e.type}`);return e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),n&&n(e,r)}const le=function(e){const{wrap:t,cleanup:n,root:r,sample:l}=e;function o(e,n,r,l){if(n===r)return r;e=l&&l.parentNode||e;const i=typeof n;if("string"===i||"number"===i)if("number"===i&&(n=n.toString()),l){if(""===n)te(e,r,l);else if(""!==r&&"string"==typeof r)l.previousSibling.data=n;else{const t=document.createTextNode(n);""!==r&&null!=r?e.replaceChild(t,l.previousSibling):e.insertBefore(t,l)}r=n}else r=""!==r&&"string"==typeof r?e.firstChild.data=n:e.textContent=n;else if(null==n||"boolean"===i)r=te(e,r,l);else if("function"===i)t(function(){r=o(e,n(),r,l)});else if(n instanceof Node)Array.isArray(r)?0===r.length?e.insertBefore(n,l):1===r.length?e.replaceChild(n,r[0]):(te(e,r,l),e.appendChild(n)):null==r||""===r?e.insertBefore(n,l):e.replaceChild(n,l&&l.previousSibling||e.firstChild),r=n;else{if(!Array.isArray(n))throw new Error("content must be Node, stringable, or array of same");{let t=I([],n);if(te(e,r,l),0!==t.length)for(let n=0,r=t.length;n<r;n++)e.insertBefore(t[n],l);r=t}}return r}return Object.assign({insert(e,n,r,l){if("function"!=typeof n)return o(e,n,r,l);t((t=r)=>o(e,n(),t,l))},delegateEvents(e){for(let t=0,n=e.length;t<n;t++){const n=e[t];ne.has(n)||(ne.add(n),document.addEventListener(n,re))}},clearDelegatedEvents(){for(let e of ne.keys())document.removeEventListener(e,re);ne.clear()},spread(e,n){t(function(){const t=n();let r;for(const n in t){const l=t[n];if("style"===n)Object.assign(e.style,l);else if("classList"===n)for(const t in l)e.classList.toggle(t,l[t]);else if("events"===n)for(const t in l)e.addEventListener(t,l[t]);else(r=ee[n])?"attribute"===r.type?e.setAttribute(n,l):e[r.alias]=l:e[n]=l}})},flow(i,s,u,a,c,f){let d;if(f&&(d=f.previousSibling),"each"===s)X(i,u,a,c,e,d,f);else if("when"===s){let e,l;const{afterRender:s,fallback:h}=c;n(function(){l&&l()}),t(t=>{const n=u();return n===t?t:(i=f&&f.parentNode||i,l&&l(),null==n||!1===n?(te(i,e,f,d),e=null,s&&s(e,f),h&&r(t=>{l=t,e=o(i,h(),e,f)}),n):(r(t=>{l=t,e=o(i,a(n),e,f)}),s&&s(e,f),n))})}else if("suspend"===s){const{fallback:e}=c,s=document.implementation.createHTMLDocument(),h=l(a);let p,g,y=!0;for(let e of ne.keys())s.addEventListener(e,re);Object.defineProperty(s.body,"host",{get:()=>f&&f.parentNode||i}),n(function(){p&&p()}),t(t=>{const n=!!u();let l;if(n===t)return t;if(i=f&&f.parentNode||i,n){if(y)o(s.body,h),y=!1;else for(l=d?d.nextSibling:i.firstChild;l&&l!==f;){const e=l.nextSibling;s.body.appendChild(l),l=e}return e&&r(t=>{p=t,g=o(i,e(),null,f)}),n}if(y)o(i,h,null,f),y=!1;else for(p&&(te(i,g,f,d),p());l=s.body.firstChild;)i.insertBefore(l,f);return n})}else if("portal"===s){const{useShadow:e}=c,t=document.createElement("div"),r=l(u)||document.body,s=e&&t.attachShadow?t.attachShadow({mode:"open"}):t;Object.defineProperty(t,"host",{get:()=>f&&f.parentNode||i});const d=l(()=>a(t));o(t,d),t!==s&&Promise.resolve().then(()=>{for(;t.firstChild;)s.appendChild(t.firstChild)}),r.appendChild(t),n(()=>r.removeChild(t))}}},e)}({wrap:e.makeComputationNode,root:e.root,cleanup:e.cleanup,sample:e.sample}),oe=document.createElement("template");oe.innerHTML="<td>\x3c!--9--\x3e<div class='popover left'><div class='popover-content'></div><div class='arrow'></div></div></td>";const ie=document.createElement("template");ie.innerHTML="<tr><td class='dbname'></td><td class='query-count'><span></span></td>\x3c!--7--\x3e</tr>";const se=document.createElement("template");se.innerHTML="<table class='table table-striped latest-data'><tbody></tbody></table>";const ue=()=>{const[t,n]=function(t={}){return[O(t=L(t)),function(){const n=arguments;e.freeze(()=>{if(Array.isArray(n[0]))for(let e=0;e<n.length;e+=1)_(t,n[e]);else _(t,Array.prototype.slice.call(n))})}]}({databases:[]}),r=()=>{Monitoring.renderRate.ping();const e=ENV.generateData().toArray();Promise.resolve(e).then(e=>n(function(e,t={}){let n;Array.isArray(e)?n=e.pop():"object"==typeof e?(n=e,e=void 0):(e=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],t={});const{merge:r,key:l="id"}=t;return t=>{if(t=L(t),e){for(let n=0;n<e.length-1;n+=1)t=t[e[n]];z(n,t,e[e.length-1],r,l)}else z(n,{state:t},"state",r,l)}}(["databases",e],{merge:!0,key:null}))),setTimeout(r,ENV.timeout)};return setTimeout(r,0),function(){const e=se.content.firstChild.cloneNode(!0),n=e.firstChild;return le.flow(n,"each",()=>t.databases,e=>(function(){const t=ie.content.firstChild.cloneNode(!0),n=t.firstChild,r=n.nextSibling,l=r.firstChild,o=r.nextSibling;return n.textContent=e.dbname,le.wrap(()=>l.className=e.lastSample.countClassName),le.insert(l,()=>e.lastSample.nbQueries),le.flow(t,"each",()=>e.lastSample.topFiveQueries,e=>(function(){const t=oe.content.firstChild.cloneNode(!0),n=t.firstChild,r=n.nextSibling.firstChild;return le.wrap(()=>t.className=e.elapsedClassName),le.insert(t,()=>e.formatElapsed,null,n),le.insert(r,()=>e.query),t})(),{},o),t})(),{}),e}()};F(()=>document.getElementById("dbmon").appendChild(ue()))}();

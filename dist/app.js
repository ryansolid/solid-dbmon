!function(){"use strict";function e(e,n){h(e,n,!1)}function n(e,n){let t,l=0===e.length?null:function(){null===i||(null!==r?o.disposes.add(i):_(i))},i=null===l?a:p(),c=s,f=n||u;i!==f&&(i.owner=f),u=i;try{s=null,t=null===l?e():e(l)}finally{s=c,u=i.owner}return null!==l&&g(i,null,void 0,!0)&&(i=null),t}class t{constructor(e){this.value=e,this.pending=f,this.log=null}current(){return null!==s&&(null===this.log&&(this.log={node1:null,node1slot:0,nodes:null,nodeslots:null}),y(this.log)),this.value}next(e){if(null!==r)if(this.pending!==f){if(e!==this.pending)throw new Error("conflicting changes: "+e+" !== "+this.pending)}else this.pending=e,o.changes.add(this);else null!==this.log?(this.pending=e,o.changes.add(this),m()):this.value=e;return e}}class l{constructor(){this.items=[],this.count=0}reset(){this.count=0}add(e){this.items[this.count++]=e}run(e){let n=this.items;for(let t=0;t<this.count;t++)e(n[t]),n[t]=null;this.count=0}}let o={time:0,changes:new l,updates:new l,disposes:new l},r=null,s=null,u=null,i=null,c=null,f={},a={fn:null,age:-1,state:0,source1:null,source1slot:0,sources:null,sourceslots:null,dependents:null,dependentslot:0,dependentcount:0,owner:null,owned:null,log:null,value:void 0,comparator:void 0,context:void 0,cleanups:null};var d={node:null,value:void 0};function h(e,n,t,l){const i=p(),c=s,f=null===r;i.owner=u,i.comparator=l,u=i,s=t?null:i,n=f?function(e,n){r=o,o.changes.reset(),o.updates.reset();try{return e(n)}finally{u=s=r=null}}(e,n):e(n),u=i.owner,s=c;var a=g(i,e,n,!1);return f&&function(e,n){if(0!==o.changes.count||0!==o.updates.count||0!==o.disposes.count)try{w(o)}finally{r=null,u=e,s=n}}(u,c),d.node=a?null:i,d.value=n,d}function p(){let e=c;return null===e?e={fn:null,age:-1,state:0,source1:null,source1slot:0,sources:null,sourceslots:null,dependents:null,dependentslot:0,dependentcount:0,owner:null,owned:null,log:null,value:void 0,comparator:void 0,context:void 0,cleanups:null}:c=null,e}function g(e,n,t,l){let r,s=l||null===u||u===a?null:u,i=!e.noRecycle&&null===e.source1&&(null===e.owned&&null===e.cleanups||null!==s);if(i){if(c=e,e.owner=null,E(e,31),null!==s){if(null!==e.owned){if(null===s.owned)s.owned=e.owned;else for(r=0;r<e.owned.length;r++)s.owned.push(e.owned[r]);e.owned=null}if(null!==e.cleanups){if(null===s.cleanups)s.cleanups=e.cleanups;else for(r=0;r<e.cleanups.length;r++)s.cleanups.push(e.cleanups[r]);e.cleanups=null}}}else e.fn=n,e.value=t,e.age=o.time,null!==s&&(null===s.owned?s.owned=[e]:s.owned.push(e));return i}function y(e){let n,t=s,l=null===t.source1?-1:null===t.sources?0:t.sources.length;if(null===e.node1)e.node1=t,e.node1slot=l,n=-1;else if(null===e.nodes){if(e.node1===t)return;e.nodes=[t],e.nodeslots=[l],n=0}else{if(n=e.nodes.length,e.nodes[n-1]===t)return;e.nodes.push(t),e.nodeslots.push(l)}null===t.source1?(t.source1=e,t.source1slot=n):null===t.sources?(t.sources=[e],t.sourceslots=[n]):(t.sources.push(e),t.sourceslots.push(n))}function v(e){0!=(6&e.state)&&function(e){if(0!=(4&e.state)){const n=e.owner;0!=(7&n.state)&&v(n),e.state&=-5}if(0!=(2&e.state)){const n=e.dependents;for(let t=e.dependentslot,l=e.dependentcount;t<l;t++){const e=n[t];null!=e&&v(e),n[t]=null}e.state&=-3}}(e),0!=(1&e.state)&&A(e),E(e,31)}function m(){let e=u;o.updates.reset();try{w(o)}finally{r=s=null,u=e}}function w(e){let n=r,t=0;for(r=e,e.disposes.reset();0!==e.changes.count||0!==e.updates.count||0!==e.disposes.count;)if(e.time++,e.changes.run(b),e.updates.run(A),e.disposes.run(_),t++>1e5)throw new Error("Runaway clock detected");r=n}function b(e){e.value=e.pending,e.pending=f,e.log&&T(e.log,x)}function A(e){const n=e.state;if(0==(16&n))if(0!=(2&n))e.dependents[e.dependentslot++]=null,e.dependentslot===e.dependentcount&&E(e,14);else if(0!=(1&n))if(0!=(4&n))v(e);else if(e.comparator){const n=C(e);(0,e.comparator)(n,e.value)||S(e,!1,!0)}else C(e)}function C(e){const n=e.value,t=u,l=s;return u=s=e,e.state=8,M(e,!1),e.value=e.fn(e.value),E(e,31),u=t,s=l,n}function x(e){const n=o.time;e.age<n&&(e.state|=1,e.age=n,k(e,!!e.comparator))}function N(e){const n=o.time;if(e.age<n){e.state|=2,(e.dependents||(e.dependents=[]))[e.dependentcount++]=i,k(e,!0)}}function k(e,n){if(o.updates.add(e),e.comparator){const n=i;i=e,S(e,!0,!1),i=n}else S(e,n,!1)}function j(e){if(0!=(2&e.state)){e.state=1;const n=o.time;e.age<n&&(e.age=n,e.comparator||S(e,!1,!0))}}function S(e,n,t){const l=e.owned;if(null!==l){!function e(n,t,l){for(let o=0,r=n.length;o<r;o++){const r=n[o];if(null!==r){t?0==(16&r.state)&&(r.state|=4):(r.age=l,r.state=16);const n=r.owned;null!==n&&e(n,t,l)}}}(l,n&&!t,o.time)}const r=e.log;null!==r&&T(r,t?j:n?N:x)}function T(e,n){const t=e.node1,l=e.nodes;if(null!==t&&n(t),null!==l)for(let e=0,t=l.length;e<t;e++)n(l[e])}function M(e,n){let t,l,o=e.source1,r=e.sources,s=e.sourceslots,u=e.cleanups,i=e.owned;if(null!==u){for(t=0;t<u.length;t++)u[t](n);e.cleanups=null}if(null!==i){for(t=0;t<i.length;t++)_(i[t]);e.owned=null}if(null!==o&&(O(o,e.source1slot),e.source1=null),null!==r)for(t=0,l=r.length;t<l;t++)O(r.pop(),s.pop())}function O(e,n){let t,l,o=e.nodes,r=e.nodeslots;-1===n?e.node1=null:(t=o.pop(),l=r.pop(),n!==o.length&&(o[n]=t,r[n]=l,-1===l?t.source1slot=n:t.sourceslots[l]=n))}function E(e,n){e.state&=~n,e.dependentslot=0,e.dependentcount=0}function _(e){e.fn=null,e.log=null,e.dependents=null,M(e,!0),E(e,31)}const B=Symbol("solid-node"),P=Symbol("solid-proxy");function F(e){return e[P]||(e[P]=new Proxy(e,q))}function H(e){return null!==e&&"object"==typeof e&&(e.__proto__===Object.prototype||Array.isArray(e))}function L(e){let n,t,l;if(n=null!=e&&e._state)return n;if(!H(e))return e;if(Array.isArray(e)){Object.isFrozen(e)&&(e=e.slice(0));for(let n=0,o=e.length;n<o;n++)(t=L(l=e[n]))!==l&&(e[n]=t)}else{Object.isFrozen(e)&&(e=Object.assign({},e));let n=Object.keys(e);for(let o=0,r=n.length;o<r;o++)(t=L(l=e[n[o]]))!==l&&(e[n[o]]=t)}return e}function R(e){let n=e[B];return n||(e[B]=n={}),n}const q={get(e,n){if("_state"===n)return e;if(n===P||n===B)return;const l=e[n],o=H(l);if(null!==s&&("function"!=typeof l||e.hasOwnProperty(n))){let r,s;o&&(r=R(l))&&(s=r._||(r._=new t)).current(),(s=(r=R(e))[n]||(r[n]=new t)).current()}return o?F(l):l},set:()=>!0,deleteProperty:()=>!0};function z(e,n,t,l){if(t=L(t),!l&&e[n]===t)return;const o=Array.isArray(e)||!(n in e);void 0===t?delete e[n]:e[n]=t;let r,s=R(e);(r=s[n])&&r.next(),o&&(r=s._)&&r.next()}function Q(e,n,t){const l=Object.keys(n);for(let o=0;o<l.length;o+=1){const r=l[o];z(e,r,n[r],t)}}function V(e,n,t=[],l){if(1===n.length){let o=n[0];if("function"==typeof o&&void 0===(o=o(F(e),t)))return;return void Q(e,o,l)}const o=n.shift(),r=typeof o,s=Array.isArray(e);if(Array.isArray(o))for(let r=0;r<o.length;r++)V(e,[o[r]].concat(n),t.concat([o[r]]),l);else if(s&&"function"===r)for(let r=0;r<e.length;r++)o(e[r],r)&&V(e,[r].concat(n),t.concat([r]),l);else if(s&&"object"===r){const{from:r=0,to:s=e.length-1,by:u=1}=o;for(let o=r;o<=s;o+=u)V(e,[o].concat(n),t.concat([o]),l)}else if(1===n.length){let r=n[0];if("function"==typeof r){const n=e[o];r=r(H(n)?F(n):n,t.concat([o]))}H(e[o])&&H(r)&&!Array.isArray(r)?Q(e[o],r,l):z(e,o,r,l)}else V(e[o],n,t.concat([o]),l)}function $(e){return[F(e=L(e||{})),function(...n){!function(e){let n=void 0;if(null!==r)n=e();else{(r=o).changes.reset();try{n=e(),m()}finally{r=null}}}(()=>{if(Array.isArray(n[0]))for(let t=0;t<n.length;t+=1)V(e,n[t]);else V(e,n)})}]}function D(e,n,t,l,o){let r=n[t];if(e===r)return;if(!H(e)||null==r)return void(e!==r&&z(n,t,e));if(Array.isArray(e)){if(e.length&&r.length&&(!l||o&&null!=e[0][o])){let n,t,s,u,i,c,f,a;for(s=0,u=Math.min(r.length,e.length);s<u&&(r[s]===e[s]||o&&r[s][o]===e[s][o]);s++)D(e[s],r,s,l,o);const d=new Array(e.length),h=new Map;for(u=r.length-1,i=e.length-1;u>=s&&i>=s&&(r[u]===e[i]||o&&r[u][o]===e[i][o]);u--,i--)d[i]=r[u];if(s>i||s>u){for(t=s;t<=i;t++)z(r,t,e[t]);for(;t<e.length;t++)z(r,t,d[t]),D(e[t],r,t,l,o);return void(r.length>e.length&&z(r,"length",e.length))}for(f=new Array(i+1),t=i;t>=s;t--)c=e[t],a=o?c[o]:c,n=h.get(a),f[t]=void 0===n?-1:n,h.set(a,t);for(n=s;n<=u;n++)c=r[n],a=o?c[o]:c,void 0!==(t=h.get(a))&&-1!==t&&(d[t]=r[n],t=f[t],h.set(a,t));for(t=s;t<e.length;t++)t in d?(z(r,t,d[t]),D(e[t],r,t,l,o)):z(r,t,e[t])}else for(let n=0,t=e.length;n<t;n++)D(e[n],r,n,l,o);return void(r.length>e.length&&z(r,"length",e.length))}const s=Object.keys(e);for(let n=0,t=s.length;n<t;n++)D(e[s[n]],r,s[n],l,o);const u=Object.keys(r);for(let n=0,t=u.length;n<t;n++)void 0===e[u[n]]&&z(r,u[n],void 0)}const I=Symbol("fallback");function G(e,t){return l=>{let o=[],r=[],i=[],c=0;return function(e){null===u?console.warn("cleanups created without a root or parent will never be run"):null===u.cleanups?u.cleanups=[e]:u.cleanups.push(e)}(()=>{for(let e=0,n=i.length;e<n;e++)i[e]()}),()=>{let u,f,a=l()||[];return function(e){let n,t=s;return s=null,n=e(),s=t,n}(()=>{let e,l,s,h,p,g,y,v,m=a.length;if(0===m){if(0!==c){for(u=0;u<c;u++)i[u]();i=[],o=[],r=[],c=0}t&&(o=[I],r[0]=n(e=>(i[0]=e,t())),c=1)}else if(0===c){for(f=0;f<m;f++)o[f]=a[f],r[f]=n(d);c=m}else{for(s=new Array(m),h=new Array(m),p=0,g=Math.min(c,m);p<g&&o[p]===a[p];p++);for(g=c-1,y=m-1;g>=p&&y>=p&&o[g]===a[y];g--,y--)s[y]=r[g],h[y]=i[g];if(p>y){for(f=g;p<=f;f--)i[f]();const e=g-p+1;return e>0&&(r.splice(p,e),i.splice(p,e)),o=a.slice(0),c=m,r}if(p>g){for(f=p;f<=y;f++)r[f]=n(d);for(;f<m;f++)r[f]=s[f],i[f]=h[f];return o=a.slice(0),c=m,r}for(e=new Map,l=new Array(y+1),f=y;f>=p;f--)v=a[f],u=e.get(v),l[f]=void 0===u?-1:u,e.set(v,f);for(u=p;u<=g;u++)v=o[u],void 0!==(f=e.get(v))&&-1!==f?(s[f]=r[u],h[f]=i[u],f=l[f],e.set(v,f)):i[u]();for(f=p;f<m;f++)f in s?(r[f]=s[f],i[f]=h[f]):r[f]=n(d);c=r.length=m,o=a.slice(0)}return r});function d(n){return i[f]=n,e(a[f],f)}}}}function J(e){const n=document.createElement("template");if(n.innerHTML=e,n.innerHTML!==e)throw new Error(`Template html does not match input:\n${n.innerHTML}\n${e}`);return n}function K(e,n,t){if(t)for(let e=0;e<t.length;e++)W(n,t[e]);return e(n)}function U(n,t,l,o){if(void 0===l||o||(o=[]),"function"==typeof t)e((e=o)=>Z(n,t(),e,l));else{if(!Array.isArray(t)||!function e(n){for(let t=0,l=n.length;t<l;t++){const l=n[t];if(Array.isArray(l)&&e(l)||"function"==typeof l)return!0}return!1}(t))return Z(n,t,o,l);e((e=o)=>Z(n,t,e,l))}}function W(e,n){const t=e[n];Object.defineProperty(e,n,{get:()=>t(),enumerable:!0})}function X(e,n,t){for(let l=0,o=n.length;l<o;l++)e.insertBefore(n[l],t)}function Y(e,n,t,l){if(void 0===t)return e.textContent="";const o=l||document.createTextNode("");if(n.length){o!==n[0]&&e.replaceChild(o,n[0]);for(let t=n.length-1;t>0;t--)e.removeChild(n[t])}else e.insertBefore(o,t);return[o]}function Z(n,t,l,o){if(t===l)return l;const r=typeof t,s=void 0!==o;if(n=s&&l[0]&&l[0].parentNode||n,"string"===r||"number"===r)if("number"===r&&(t=t.toString()),s){let e=l[0];e&&3===e.nodeType?e.data=t:e=document.createTextNode(t),l=Y(n,l,o,e)}else l=""!==l&&"string"==typeof l?n.firstChild.data=t:n.textContent=t;else if(null==t||"boolean"===r)l=Y(n,l,o);else if("function"===r)e(()=>l=Z(n,t(),l,o));else if(Array.isArray(t)){const e=function e(n,t){for(let l=0,o=t.length;l<o;l++){let o,r=t[l];if(r instanceof Node)n.push(r);else if(null==r||!0===r||!1===r);else if(Array.isArray(r))e(n,r);else if("string"==(o=typeof r))n.push(document.createTextNode(r));else if("function"===o){const t=r();e(n,Array.isArray(t)?t:[t])}else n.push(document.createTextNode(r.toString()))}return n}([],t);if(0===e.length){if(l=Y(n,l,o),s)return l}else Array.isArray(l)?0===l.length?X(n,e,o):ne(n,l,e):null==l||""===l?X(n,e):ne(n,s&&l||[n.firstChild],e);l=e}else if(t instanceof Node){if(Array.isArray(l)){if(s)return l=Y(n,l,o,t);Y(n,l,null,t)}else null==l||""===l?n.appendChild(t):n.replaceChild(t,n.firstChild);l=t}return l}var ee=-1;function ne(e,n,t){var l,o=t.length,r=0,s=n.length-1,u=0,i=o-1,c=n[r],f=t[u],a=n[s],d=t[i],h=a.nextSibling,p=!0;e:for(;p;){for(p=!1;f===c;){if(r++,++u>i||r>s)break e;f=t[u],c=n[r]}for(;d===a;){if(h=a,s--,u>--i||r>s)break e;d=t[i],a=n[s]}for(;f===a;){if(p=!0,e.insertBefore(a,c),s--,++u>i||r>s)break e;f=t[u],a=n[s]}for(;d===c;){if(p=!0,null===h?e.appendChild(c):e.insertBefore(c,h),h=c,r++,u>--i||r>s)break e;d=t[i],c=n[r]}}if(u>i){for(;r<=s;)e.removeChild(n[s]),s--;return}if(r>s){for(;u<=i;)e.insertBefore(t[u],h),u++;return}const g=new Array(i-u+1),y=new Map;for(let e=u;e<=i;e++)g[e]=ee,y.set(t[e],e);let v=u+t.length-1-i,m=[];for(let e=r;e<=s;e++)y.has(n[e])?(g[y.get(n[e])]=e,v++):m.push(e);if(0!==v){var w,b=function(e,n){let t=[],l=[],o=-1,r=new Array(e.length);for(let s=n,u=e.length;s<u;s++){let n=e[s];if(n<0)continue;let u=te(t,n);-1!==u&&(r[s]=l[u]),u===o?(t[++o]=n,l[o]=s):n<t[u+1]&&(t[u+1]=n,l[u+1]=s)}for(let e=l[o];o>=0;e=r[e],o--)t[o]=e;return t}(g,u),A=[],C=n[r],x=b.length-1;for(let e=r;e<=s;e++)A[e]=C,C=C.nextSibling;for(let n=0;n<m.length;n++)e.removeChild(A[m[n]]);for(let n=i;n>=u;n--)b[x]===n?(h=A[g[b[x]]],x--):(w=g[n]===ee?t[n]:A[g[n]],e.insertBefore(w,h),h=w)}else{if(c!==e.firstChild||a!==e.lastChild){for(l=r;l<=s;l++)e.removeChild(n[l]);for(;u<=i;)e.insertBefore(t[u],h),u++;return}for(e.textContent="";u<=i;)e.appendChild(t[u]),u++}}function te(e,n){var t=-1,l=e.length;if(l>0&&e[l-1]<=n)return l-1;for(;l-t>1;){var o=Math.floor((t+l)/2);e[o]>n?l=o:t=o}return t}function le(e){const n=function(e,n,t){var{node:l,value:r}=h(e,n,!1,t);return null===l?()=>r:()=>{if(null!==s){const e=l.state;if(0!=(7&e)&&v(l),l.age===o.time&&8===e)throw new Error("Circular dependency.");0==(16&e)&&(null===l.log&&(l.log={node1:null,node1slot:0,nodes:null,nodeslots:null}),y(l.log))}return l.value}}(G(e.children,"fallback"in e?()=>e.fallback:void 0)(()=>e.each));return e.transform?e.transform(n,()=>e.each):n}const oe=J('<table class="table table-striped latest-data"><tbody></tbody></table>'),re=J('<tr><td class="dbname"></td><td class="query-count"><span></span></td></tr>'),se=J('<td><div class="popover left"><div class="popover-content"></div><div class="arrow"></div></div></td>');!function(e,t){let l;n(n=>{l=n,U(t,e())})}(()=>{const[n,t]=$({databases:[]}),l=()=>{Monitoring.renderRate.ping();const e=ENV.generateData().toArray();Promise.resolve(e).then(e=>t(function(e,n={}){let t;Array.isArray(e)?t=e.pop():"object"==typeof e?(t=e,e=void 0):(e=Array.prototype.slice.call(arguments,0,-1),t=arguments[arguments.length-1],n={});const{merge:l,key:o="id"}=n;return n=>{if(n=L(n),e){for(let t=0;t<e.length-1;t+=1)n=n[e[t]];D(t,n,e[e.length-1],l,o)}else D(t,{state:n},"state",l,o)}}(["databases",e],{merge:!0,key:null}))),setTimeout(l,ENV.timeout)};return setTimeout(l,0),function(){const t=oe.content.firstChild.cloneNode(!0);return U(t.firstChild,K(le,{each:()=>n.databases,children:n=>(function(){const t=re.content.firstChild.cloneNode(!0),l=t.firstChild,o=l.nextSibling.firstChild;return l.textContent=n.dbname,e(()=>o.className=n.lastSample.countClassName),U(o,()=>n.lastSample.nbQueries),U(t,K(le,{each:()=>n.lastSample.topFiveQueries,children:n=>(function(){const t=se.content.firstChild.cloneNode(!0),l=t.firstChild,o=l.firstChild;return e(()=>t.className=n.elapsedClassName),U(t,()=>n.formatElapsed,l),U(o,()=>n.query),t})()},["each"]),null),t})()},["each"])),t}()},document.getElementById("dbmon"))}();

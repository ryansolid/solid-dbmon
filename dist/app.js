!function(){"use strict";function e(e,t){o(e,t)}function t(e,t){t&&(c=t);let n=c,l=u,r=0===e.length?d:o(null,null),f=void 0,a=function(){null!==i?s.disposes.add(r):T(r)};c=r,u=null;try{f=e(a)}finally{u=l,c=n}return f}function n(e){let t,n=u;return u=null,t=e(),u=n,t}class l{constructor(e){this.value=e,this.pending=a,this.log=null}current(){return null!==u&&(null===this.log&&(this.log={node1:null,node1slot:0,nodes:null,nodeslots:null}),h(this.log)),this.value}next(e){if(null!==i)if(this.pending!==a){if(e!==this.pending)throw new Error("conflicting changes: "+e+" !== "+this.pending)}else this.pending=e,s.changes.add(this);else null!==this.log?(this.pending=e,s.changes.add(this),g()):this.value=e;return e}}function o(e,t){const n={fn:e,value:t,age:s.time,state:0,comparator:null,source1:null,source1slot:0,sources:null,sourceslots:null,dependents:null,dependentslot:0,dependentcount:0,owner:c,owned:null,log:null,context:null,cleanups:null};if(null===e)return n;let l=c,o=u;return null===l&&console.warn("computations created without a root or parent will never be disposed"),c=u=n,null===i?function(e){i=s,s.changes.reset(),s.updates.reset();try{e.value=e.fn(e.value),(s.changes.count>0||s.updates.count>0)&&(s.time++,y(s))}finally{i=c=u=null}}(n):n.value=n.fn(n.value),l&&l!==d&&(null===l.owned?l.owned=[n]:l.owned.push(n)),c=l,u=o,n}class r{constructor(){this.items=[],this.count=0}reset(){this.count=0}add(e){this.items[this.count++]=e}run(e){let t=this.items;for(let n=0;n<this.count;n++)e(t[n]),t[n]=null;this.count=0}}let s={time:0,changes:new r,updates:new r,disposes:new r},i=null,u=null,c=null,f=null,a={},d=o(null,null);function h(e){let t,n=u,l=null===n.source1?-1:null===n.sources?0:n.sources.length;if(null===e.node1)e.node1=n,e.node1slot=l,t=-1;else if(null===e.nodes){if(e.node1===n)return;e.nodes=[n],e.nodeslots=[l],t=0}else{if(t=e.nodes.length,e.nodes[t-1]===n)return;e.nodes.push(n),e.nodeslots.push(l)}null===n.source1?(n.source1=e,n.source1slot=t):null===n.sources?(n.sources=[e],n.sourceslots=[t]):(n.sources.push(e),n.sourceslots.push(t))}function p(e){0!=(6&e.state)&&function(e){if(0!=(4&e.state)){const t=e.owner;0!=(7&t.state)&&p(t),e.state&=-5}if(0!=(2&e.state)){const t=e.dependents;for(let n=e.dependentslot,l=e.dependentcount;n<l;n++){const e=t[n];null!=e&&p(e),t[n]=null}e.state&=-3}}(e),0!=(1&e.state)&&v(e),j(e,31)}function g(){let e=c;s.updates.reset(),s.time++;try{y(s)}finally{i=u=null,c=e}}function y(e){let t=i,n=0;for(i=e,e.disposes.reset();0!==e.changes.count||0!==e.updates.count||0!==e.disposes.count;)if(n>0&&e.time++,e.changes.run(m),e.updates.run(v),e.disposes.run(T),n++>1e5)throw new Error("Runaway clock detected");i=t}function m(e){e.value=e.pending,e.pending=a,e.log&&N(e.log,b)}function v(e){const t=e.state;if(0==(16&t))if(0!=(2&t))e.dependents[e.dependentslot++]=null,e.dependentslot===e.dependentcount&&j(e,14);else if(0!=(1&t))if(0!=(4&t))p(e);else if(e.comparator){const t=w(e);(0,e.comparator)(t,e.value)||_(e,!1,!0)}else w(e)}function w(e){const t=e.value,n=c,l=u;return c=u=e,e.state=8,k(e,!1),e.value=e.fn(e.value),j(e,31),c=n,u=l,t}function b(e){const t=s.time;e.age<t&&(e.state|=1,e.age=t,x(e,!!e.comparator))}function A(e){const t=s.time;if(e.age<t){e.state|=2,(e.dependents||(e.dependents=[]))[e.dependentcount++]=f,x(e,!0)}}function C(e){if(0!=(2&e.state)){e.state=1;const t=s.time;e.age<t&&(e.age=t,e.comparator||_(e,!1,!0))}}function x(e,t){if(s.updates.add(e),e.comparator){const t=f;f=e,_(e,!0,!1),f=t}else _(e,t,!1)}function _(e,t,n){const l=e.owned;if(null!==l){!function e(t,n,l){for(let o=0,r=t.length;o<r;o++){const r=t[o];if(null!==r){n?0==(16&r.state)&&(r.state|=4):(r.age=l,r.state=16);const t=r.owned;null!==t&&e(t,n,l)}}}(l,t&&!n,s.time)}const o=e.log;null!==o&&N(o,n?C:t?A:b)}function N(e,t){const n=e.node1,l=e.nodes;if(null!==n&&t(n),null!==l)for(let e=0,n=l.length;e<n;e++)t(l[e])}function k(e,t){let n,l,o=e.source1,r=e.sources,s=e.sourceslots,i=e.cleanups,u=e.owned;if(null!==i){for(n=0;n<i.length;n++)i[n](t);e.cleanups=null}if(null!==u){for(n=0;n<u.length;n++)T(u[n]);e.owned=null}if(null!==o&&(S(o,e.source1slot),e.source1=null),null!==r)for(n=0,l=r.length;n<l;n++)S(r.pop(),s.pop())}function S(e,t){let n,l,o=e.nodes,r=e.nodeslots;-1===t?e.node1=null:(n=o.pop(),l=r.pop(),t!==o.length&&(o[t]=n,r[t]=l,-1===l?n.source1slot=t:n.sourceslots[l]=t))}function j(e,t){e.state&=~t,e.dependentslot=0,e.dependentcount=0}function T(e){e.fn=null,e.log=null,e.dependents=null,k(e,!0),j(e,31)}const M=Symbol("solid-node"),O=Symbol("solid-proxy");function $(e){return e[O]||(e[O]=new Proxy(e,q))}function E(e){return null!=e&&"object"==typeof e&&(e.__proto__===Object.prototype||Array.isArray(e))}function P(e){let t,n,l;if(t=null!=e&&e._state)return t;if(!E(e))return e;if(Array.isArray(e)){Object.isFrozen(e)&&(e=e.slice(0));for(let t=0,o=e.length;t<o;t++)(n=P(l=e[t]))!==l&&(e[t]=n)}else{Object.isFrozen(e)&&(e=Object.assign({},e));let t=Object.keys(e);for(let o=0,r=t.length;o<r;o++)(n=P(l=e[t[o]]))!==l&&(e[t[o]]=n)}return e}function B(e){let t=e[M];return t||(e[M]=t={}),t}const q={get(e,t){if("_state"===t)return e;if(t===O||t===M)return;const n=e[t],o=E(n);if(null!==u&&("function"!=typeof n||e.hasOwnProperty(t))){let r,s;o&&(r=B(n))&&(s=r._||(r._=new l)).current(),(s=(r=B(e))[t]||(r[t]=new l)).current()}return o?$(n):n},set:()=>!0,deleteProperty:()=>!0},F={get(e,t){if("_state"===t)return e;const n=e[t];return E(n)?new Proxy(n,F):n},set:(e,t,n)=>(H(e,t,P(n)),!0),deleteProperty:(e,t)=>(H(e,t,void 0),!0)};function H(e,t,n,l){if(!l&&e[t]===n)return;const o=Array.isArray(e)||!(t in e);void 0===n?delete e[t]:e[t]=n;let r,s=B(e);(r=s[t])&&r.next(),o&&(r=s._)&&r.next()}function L(e,t,n){const l=Object.keys(t);for(let o=0;o<l.length;o+=1){const r=l[o];H(e,r,t[r],n)}}function Q(e){const t=P(e||{});return[$(t),function(...e){!function(e){let t=void 0;if(null!==i)t=e();else{(i=s).changes.reset();try{t=e(),g()}finally{i=null}}}(()=>(function e(t,n,l=[]){if(1===n.length){let e=n[0];if("function"==typeof e){const n=new Proxy(t,F);if((e=e(n,l))===n||void 0===e)return}return void L(t,P(e))}const o=n.shift(),r=typeof o,s=Array.isArray(t);if(Array.isArray(o))for(let r=0;r<o.length;r++)e(t,[o[r]].concat(n),l.concat([o[r]]));else if(s&&"function"===r)for(let r=0;r<t.length;r++)o(t[r],r)&&e(t,[r].concat(n),l.concat([r]));else if(s&&"object"===r){const{from:r=0,to:s=t.length-1,by:i=1}=o;for(let o=r;o<=s;o+=i)e(t,[o].concat(n),l.concat([o]))}else if(1===n.length){let e=n[0];const r=t[o];if("function"==typeof e){const t=E(r)?new Proxy(r,F):r;if((e=e(t,l.concat([o])))===t||void 0===e)return}e=P(e),E(r)&&E(e)&&!Array.isArray(e)?L(r,e):H(t,o,e)}else e(t[o],n,l.concat([o]))})(t,e))}]}function z(e,t={}){const{merge:n,key:l="id"}=t;return t=>{t=P(t),function e(t,n,l,o,r){let s=n[l];if(t===s)return;if(!E(t)||!E(s)||r&&t[r]!==s[r])return void(t!==s&&H(n,l,t));if(Array.isArray(t)){if(t.length&&s.length&&(!o||r&&null!=t[0][r])){let n,l,i,u,c,f,a,d;for(i=0,u=Math.min(s.length,t.length);i<u&&(s[i]===t[i]||r&&s[i][r]===t[i][r]);i++)e(t[i],s,i,o,r);const h=new Array(t.length),p=new Map;for(u=s.length-1,c=t.length-1;u>=i&&c>=i&&(s[u]===t[c]||r&&s[u][r]===t[c][r]);u--,c--)h[c]=s[u];if(i>c||i>u){for(l=i;l<=c;l++)H(s,l,t[l]);for(;l<t.length;l++)H(s,l,h[l]),e(t[l],s,l,o,r);return void(s.length>t.length&&H(s,"length",t.length))}for(a=new Array(c+1),l=c;l>=i;l--)f=t[l],d=r?f[r]:f,n=p.get(d),a[l]=void 0===n?-1:n,p.set(d,l);for(n=i;n<=u;n++)f=s[n],d=r?f[r]:f,void 0!==(l=p.get(d))&&-1!==l&&(h[l]=s[n],l=a[l],p.set(d,l));for(l=i;l<t.length;l++)l in h?(H(s,l,h[l]),e(t[l],s,l,o,r)):H(s,l,t[l])}else for(let n=0,l=t.length;n<l;n++)e(t[n],s,n,o,r);return void(s.length>t.length&&H(s,"length",t.length))}const i=Object.keys(t);for(let n=0,l=i.length;n<l;n++)e(t[i[n]],s,i[n],o,r);const u=Object.keys(s);for(let e=0,n=u.length;e<n;e++)void 0===t[u[e]]&&H(s,u[e],void 0)}(e,{state:t},"state",n,l)}}const R=Symbol("fallback");function V(e,l){return o=>{let r=[],s=[],i=[],u=0;return function(e){null===c?console.warn("cleanups created without a root or parent will never be run"):null===c.cleanups?c.cleanups=[e]:c.cleanups.push(e)}(()=>{for(let e=0,t=i.length;e<t;e++)i[e]()}),()=>{let c,f,a=o()||[];return n(()=>{let e,n,o,h,p,g,y,m,v=a.length;if(0===v){if(0!==u){for(c=0;c<u;c++)i[c]();i=[],r=[],s=[],u=0}l&&(r=[R],s[0]=t(e=>(i[0]=e,l())),u=1)}else if(0===u){for(f=0;f<v;f++)r[f]=a[f],s[f]=t(d);u=v}else{for(o=new Array(v),h=new Array(v),p=0,g=Math.min(u,v);p<g&&r[p]===a[p];p++);for(g=u-1,y=v-1;g>=p&&y>=p&&r[g]===a[y];g--,y--)o[y]=s[g],h[y]=i[g];if(p>y){for(f=g;p<=f;f--)i[f]();const e=g-p+1;return e>0&&(s.splice(p,e),i.splice(p,e)),r=a.slice(0),u=v,s}if(p>g){for(f=p;f<=y;f++)s[f]=t(d);for(;f<v;f++)s[f]=o[f],i[f]=h[f];return r=a.slice(0),u=v,s}for(e=new Map,n=new Array(y+1),f=y;f>=p;f--)m=a[f],c=e.get(m),n[f]=void 0===c?-1:c,e.set(m,f);for(c=p;c<=g;c++)m=r[c],void 0!==(f=e.get(m))&&-1!==f?(o[f]=s[c],h[f]=i[c],f=n[f],e.set(m,f)):i[c]();for(f=p;f<v;f++)f in o?(s[f]=o[f],i[f]=h[f]):s[f]=t(d);u=s.length=v,r=a.slice(0)}return s});function d(t){return i[f]=t,e(a[f],f)}}}}function D(e,t){const n=document.createElement("template");if(n.innerHTML=e,n.innerHTML!==e)throw new Error(`Template html does not match input:\n${n.innerHTML}\n${e}`);let l=n.content.firstChild;return t&&(l=l.firstChild),l}function I(e,t,l){if(l)for(let e=0;e<l.length;e++)J(t,l[e]);return n(()=>e(t))}function G(t,n,l,o){if(void 0===l||o||(o=[]),"function"==typeof n)e((e=o)=>W(t,n(),e,l));else{if(!Array.isArray(n)||!function e(t){for(let n=0,l=t.length;n<l;n++){const l=t[n];if(Array.isArray(l)&&e(l)||"function"==typeof l)return!0}return!1}(n))return W(t,n,o,l);e((e=o)=>W(t,n,e,l))}}function J(e,t){const n=e[t];Object.defineProperty(e,t,{get:()=>n(),enumerable:!0})}function K(e,t,n){for(let l=0,o=t.length;l<o;l++)e.insertBefore(t[l],n)}function U(e,t,n,l){if(void 0===n)return e.textContent="";const o=l||document.createTextNode("");if(t.length){o!==t[0]&&e.replaceChild(o,t[0]);for(let n=t.length-1;n>0;n--)e.removeChild(t[n])}else e.insertBefore(o,n);return[o]}function W(t,n,l,o){if(n===l)return l;const r=typeof n,s=void 0!==o;if(t=s&&l[0]&&l[0].parentNode||t,"string"===r||"number"===r)if("number"===r&&(n=n.toString()),s){let e=l[0];e&&3===e.nodeType?e.data=n:e=document.createTextNode(n),l=U(t,l,o,e)}else l=""!==l&&"string"==typeof l?t.firstChild.data=n:t.textContent=n;else if(null==n||"boolean"===r)l=U(t,l,o);else if("function"===r)e(()=>l=W(t,n(),l,o));else if(Array.isArray(n)){const e=function e(t,n){for(let l=0,o=n.length;l<o;l++){let o,r=n[l];if(r instanceof Node)t.push(r);else if(null==r||!0===r||!1===r);else if(Array.isArray(r))e(t,r);else if("string"==(o=typeof r))t.push(document.createTextNode(r));else if("function"===o){const n=r();e(t,Array.isArray(n)?n:[n])}else t.push(document.createTextNode(r.toString()))}return t}([],n);if(0===e.length){if(l=U(t,l,o),s)return l}else Array.isArray(l)?0===l.length?K(t,e,o):Y(t,l,e):null==l||""===l?K(t,e):Y(t,s&&l||[t.firstChild],e);l=e}else if(n instanceof Node){if(Array.isArray(l)){if(s)return l=U(t,l,o,n);U(t,l,null,n)}else null==l||""===l?t.appendChild(n):t.replaceChild(n,t.firstChild);l=n}return l}var X=-1;function Y(e,t,n){var l,o=n.length,r=0,s=t.length-1,i=0,u=o-1,c=t[r],f=n[i],a=t[s],d=n[u],h=a.nextSibling,p=!0;e:for(;p;){for(p=!1;f===c;){if(r++,++i>u||r>s)break e;f=n[i],c=t[r]}for(;d===a;){if(h=a,s--,i>--u||r>s)break e;d=n[u],a=t[s]}for(;f===a;){if(p=!0,e.insertBefore(a,c),s--,++i>u||r>s)break e;f=n[i],a=t[s]}for(;d===c;){if(p=!0,null===h?e.appendChild(c):e.insertBefore(c,h),h=c,r++,i>--u||r>s)break e;d=n[u],c=t[r]}}if(i>u){for(;r<=s;)e.removeChild(t[s]),s--;return}if(r>s){for(;i<=u;)e.insertBefore(n[i],h),i++;return}const g=new Array(u-i+1),y=new Map;for(let e=i;e<=u;e++)g[e]=X,y.set(n[e],e);let m=i+n.length-1-u,v=[];for(let e=r;e<=s;e++)y.has(t[e])?(g[y.get(t[e])]=e,m++):v.push(e);if(0!==m){var w,b=function(e,t){let n=[],l=[],o=-1,r=new Array(e.length);for(let s=t,i=e.length;s<i;s++){let t=e[s];if(t<0)continue;let i=Z(n,t);-1!==i&&(r[s]=l[i]),i===o?(n[++o]=t,l[o]=s):t<n[i+1]&&(n[i+1]=t,l[i+1]=s)}for(let e=l[o];o>=0;e=r[e],o--)n[o]=e;return n}(g,i),A=[],C=t[r],x=b.length-1;for(let e=r;e<=s;e++)A[e]=C,C=C.nextSibling;for(let t=0;t<v.length;t++)e.removeChild(A[v[t]]);for(let t=u;t>=i;t--)b[x]===t?(h=A[g[b[x]]],x--):(w=g[t]===X?n[t]:A[g[t]],e.insertBefore(w,h),h=w)}else{if(c!==e.firstChild||a!==e.lastChild){for(l=r;l<=s;l++)e.removeChild(t[l]);for(;i<=u;)e.insertBefore(n[i],h),i++;return}for(e.textContent="";i<=u;)e.appendChild(n[i]),i++}}function Z(e,t){var n=-1,l=e.length;if(l>0&&e[l-1]<=t)return l-1;for(;l-n>1;){var o=Math.floor((n+l)/2);e[o]>t?l=o:n=o}return n}function ee(e){const t=(n=V(e.children,"fallback"in e?()=>e.fallback:void 0)(()=>e.each),(i=o(n,l)).comparator=r||null,()=>{if(null!==u){const e=i.state;if(0!=(7&e)&&p(i),i.age===s.time&&8===e)throw new Error("Circular dependency.");0==(16&e)&&(null===i.log&&(i.log={node1:null,node1slot:0,nodes:null,nodeslots:null}),h(i.log))}return i.value});var n,l,r,i;return e.transform?e.transform(t,()=>e.each):t}const te=D('<table class="table table-striped latest-data"><tbody></tbody></table>'),ne=D('<tr><td class="dbname"></td><td class="query-count"><span></span></td></tr>'),le=D('<td><div class="popover left"><div class="popover-content"></div><div class="arrow"></div></div></td>');!function(e,n){let l;t(t=>{l=t,G(n,e())})}(()=>{const[t,n]=Q({databases:[]}),l=()=>{Monitoring.renderRate.ping();const e=ENV.generateData().toArray();Promise.resolve(e).then(e=>n("databases",z(e,{merge:!0,key:null}))),setTimeout(l,ENV.timeout)};return setTimeout(l,0),function(){const n=te.cloneNode(!0);return G(n.firstChild,I(ee,{each:()=>t.databases,children:t=>{const n=t.dbName;return function(){const l=ne.cloneNode(!0),o=l.firstChild,r=o.nextSibling.firstChild;o.textContent=n,r.textContent=t.lastSample.nbQueries;const s=r.firstChild;return G(l,I(ee,{each:()=>t.lastSample.topFiveQueries,children:t=>(function(){const n=le.cloneNode(!0),l=n.firstChild,o=l.firstChild;G(n,()=>t.formatElapsed,l),o.textContent=t.query;const r=o.firstChild;return e((e={})=>{const l=t.elapsedClassName,o=t.query;return l!==e._v$3&&(n.className=e._v$3=l),o!==e._v$4&&(r.data=e._v$4=o),e}),n})()},["each"]),null),e((e={})=>{const n=t.lastSample.countClassName,l=t.lastSample.nbQueries;return n!==e._v$&&(r.className=e._v$=n),l!==e._v$2&&(s.data=e._v$2=l),e}),l}()}},["each"])),n}()},document.getElementById("dbmon"))}();

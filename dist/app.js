!function(){"use strict";var e=function(e,t){var n=new l(e,t);return function(){return n.current()}};Object.defineProperty(e,"default",{value:e}),e.root=function(e){var t=g,n=0===e.length?p:new l(null,null),r=void 0,o=0===e.length?null:function(){null!==d?a.disposes.add(n):N(n)};return g=n,null===d?r=function(e,t,n){try{return null===t?e():e(t)}finally{g=n}}(e,o,t):(r=null===o?e():e(o),g=t),r},e.on=function(t,n,r,l){var o;return Array.isArray(t)&&(o=t,t=function(){for(var e=0;e<o.length;e++)o[e]()}),l=!!l,e(i,r);function i(e){var r=h;return t(),l?l=!1:(h=null,e=n(e),h=r),e}},e.effect=function(e,t){new l(e,t)},e.data=function(e){var t=new r(e);return function(e){return 0===arguments.length?t.current():t.next(e)}},e.value=function(t,n){var r=e.data(t),l=-1;return function(e){if(0===arguments.length)return r();if(!(n?n(t,e):t===e)){var o=a.time;if(l===o)throw new Error("conflicting values: "+e+" is not the same as "+t);l=o,t=e,r(e)}return e}},e.freeze=function(e){var t=void 0;if(null!==d)t=e();else{(d=a).changes.reset();try{t=e(),v()}finally{d=null}}return t},e.sample=function(e){var t,n=h;return null!==n?(h=null,t=e(),h=n):t=e(),t},e.cleanup=function(e){null!==g?null===g.cleanups?g.cleanups=[e]:g.cleanups.push(e):console.warn("cleanups created without a root or parent will never be run")},e.makeDataNode=function(e){return new r(e)},e.makeComputationNode=function(e,t){return new l(e,t)},e.isFrozen=function(){return null!==d},e.isListening=function(){return null!==h};var t=function(){return function(){this.time=0,this.changes=new i,this.updates=new i,this.disposes=new i}}(),n={time:function(){return a.time}},r=function(){function e(e){this.value=e,this.pending=s,this.log=null}return e.prototype.current=function(){return null!==h&&function(e,t){null===e.log&&(e.log=new o);y(e.log,t)}(this,h),this.value},e.prototype.next=function(e){if(null!==d)if(this.pending!==s){if(e!==this.pending)throw new Error("conflicting changes: "+e+" !== "+this.pending)}else this.pending=e,a.changes.add(this);else null!==this.log?(this.pending=e,a.changes.add(this),v()):this.value=e;return e},e.prototype.clock=function(){return n},e}(),l=function(){function e(e,t){if(this.state=u,this.source1=null,this.source1slot=0,this.sources=null,this.sourceslots=null,this.log=null,this.owned=null,this.cleanups=null,this.fn=e,this.value=t,this.age=a.time,null!==e){var n=g,r=h;null===n&&console.warn("computations created without a root or parent will never be disposed"),g=h=this,null===d?function(e){d=a,a.changes.reset(),a.updates.reset();try{e.value=e.fn(e.value),(a.changes.count>0||a.updates.count>0)&&(a.time++,m(a))}finally{d=g=h=null}}(this):this.value=this.fn(this.value),n&&n!==p&&(null===n.owned?n.owned=[this]:n.owned.push(this)),g=n,h=r}}return e.prototype.current=function(){if(null!==h){if(this.age===a.time){if(this.state===f)throw new Error("circular dependency");x(this)}!function(e,t){null===e.log&&(e.log=new o);y(e.log,t)}(this,h)}return this.value},e.prototype.clock=function(){return n},e}(),o=function(){return function(){this.node1=null,this.node1slot=0,this.nodes=null,this.nodeslots=null}}(),i=function(){function e(){this.items=[],this.count=0}return e.prototype.reset=function(){this.count=0},e.prototype.add=function(e){this.items[this.count++]=e},e.prototype.run=function(e){for(var t=this.items,n=0;n<this.count;n++)e(t[n]),t[n]=null;this.count=0},e}(),s={},u=0,c=1,f=2,a=new t,d=null,h=null,g=null,p=new l(null,null);function y(e,t){var n,r=null===t.source1?-1:null===t.sources?0:t.sources.length;null===e.node1?(e.node1=t,e.node1slot=r,n=-1):null===e.nodes?(e.nodes=[t],e.nodeslots=[r],n=0):(n=e.nodes.length,e.nodes.push(t),e.nodeslots.push(r)),null===t.source1?(t.source1=e,t.source1slot=n):null===t.sources?(t.sources=[e],t.sourceslots=[n]):(t.sources.push(e),t.sourceslots.push(n))}function v(){var e=g;a.updates.reset(),a.time++;try{m(a)}finally{d=h=null,g=e}}function m(e){var t=d,n=0;for(d=e,e.disposes.reset();0!==e.changes.count||0!==e.updates.count||0!==e.disposes.count;)if(n>0&&e.time++,e.changes.run(b),e.updates.run(x),e.disposes.run(N),n++>1e5)throw new Error("Runaway clock detected");d=t}function b(e){e.value=e.pending,e.pending=s,e.log&&w(e.log)}function w(e){var t=e.node1,n=e.nodes;if(null!==t&&A(t),null!==n)for(var r=0,l=n.length;r<l;r++)A(n[r])}function A(e){var t=a.time;e.age<t&&(e.age=t,e.state=c,a.updates.add(e),null!==e.owned&&function e(t){for(var n=0;n<t.length;n++){var r=t[n];r.age=a.time,r.state=u,null!==r.owned&&e(r.owned)}}(e.owned),null!==e.log&&w(e.log))}function x(e){if(e.state===c){var t=g,n=h;g=h=e,e.state=f,C(e,!1),e.value=e.fn(e.value),e.state=u,g=t,h=n}}function C(e,t){var n,r,l=e.source1,o=e.sources,i=e.sourceslots,s=e.cleanups,u=e.owned;if(null!==s){for(n=0;n<s.length;n++)s[n](t);e.cleanups=null}if(null!==u){for(n=0;n<u.length;n++)N(u[n]);e.owned=null}if(null!==l&&(S(l,e.source1slot),e.source1=null),null!==o)for(n=0,r=o.length;n<r;n++)S(o.pop(),i.pop())}function S(e,t){var n,r,l=e.nodes,o=e.nodeslots;-1===t?e.node1=null:(n=l.pop(),r=o.pop(),t!==l.length&&(l[t]=n,o[t]=r,-1===r?n.source1slot=t:n.sourceslots[r]=t))}function N(e){e.fn=null,e.log=null,C(e,!0)}const k=e,j=e.root,E=e.sample,T=e.cleanup,_="__rGroup",O="nextSibling",M="previousSibling";let z=0;function B(e,t,n,r){if(Array.isArray(t)){if(!t.length)return;let l=(t=function e(t,n){for(let r=0,l=n.length;r<l;r++){let l=n[r];l instanceof Node?11===l.nodeType?e(t,l.childNodes):t.push(l):null==l||!0===l||!1===l||(Array.isArray(l)?e(t,l):"string"==typeof l?t.push(document.createTextNode(l)):t.push(document.createTextNode(l.toString())))}return t}([],t))[0];1!==t.length&&(l[_]=t[t.length-1][_]=r);for(let r=0;r<t.length;r++)n?e.insertBefore(t[r],n):e.appendChild(t[r]);return l}let l,o=typeof t;return"string"===o||"number"===o?t=document.createTextNode(t):11===t.nodeType&&(l=t.firstChild)&&l!==t.lastChild&&(l[_]=t.lastChild[_]=r),n?e.insertBefore(t,n):e.appendChild(t),l||t}function L(e,t,n){const r=e[_];if(r)for(e=e[t];e&&e[_]!==r;)e=e[t];return n?e:e[t]}function P(e,t,n){let r;for(;t!==n;)r=t.nextSibling,e.removeChild(t),t=r}function D(e,t,n,r){return n?(Array.isArray(t)?r=t[0]:null!=t&&""!=t&&void 0===r&&(r=L(n.previousSibling,M,!0)),r&&P(e,r,n),""):e.textContent=""}function F(e,t,n,r){if(t===n)return n;e=r&&r.parentNode||e;const l=typeof t;if("string"===l||"number"===l)if("number"===l&&(t=t.toString()),r){if(""===t)D(e,n,r);else if(""!==n&&"string"==typeof n)r.previousSibling.data=t;else{const l=document.createTextNode(t);""!==n&&null!=n?e.replaceChild(l,r.previousSibling):e.insertBefore(l,r)}n=t}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t;else if(null==t||"boolean"===l)n=D(e,n,r);else if("function"===l)k(function(){n=F(e,t(),n,r)});else{if(!(t instanceof Node||Array.isArray(t)))throw new Error("content must be Node, stringable, or array of same");D(e,n,r),B(e,t,r,++z),n=t}return n}function H(e,t,n,r){if("function"!=typeof t)return F(e,t,n,r);k((l=n)=>F(e,t(),l,r))}function R(e,t,n,r){let l;for(;t!==n;)l=t.nextSibling,e.insertBefore(t,r),t=l}function q(e,t){let n;(n=e.get(t))&&n(),e.delete(t)}function Q(e,t){let n=-1,r=e.length;if(r>0&&e[r-1]<=t)return r-1;for(;r-n>1;){let l=Math.floor((n+r)/2);e[l]>t?r=l:n=l}return n}function V(e,t,n,r,l){let o=new Map,i=!1,s=l?l.previousSibling:null;const{afterRender:u,fallback:c}=r;function f(t,r,l){return j(i=>{const s=B(e,n(t,r),l,++z);return o.set(s,i),s})}function a(){u&&u(s?s.nextSibling:e.firstChild,l)}T(function(){for(let e of o.keys())o.get(e)();o.clear()}),k((n=[])=>{const r=t()||[];return E(()=>{e=l&&l.parentNode||e;const t=r.length;if(i){if(void 0!==s||void 0!==l){let t=null!=s?s.nextSibling:e.firstChild;P(e,t,void 0===l?null:l)}else e.textContent="";for(let e of o.keys())o.get(e)();o.clear(),i=!1}if(0===t){if(void 0!==s||void 0!==l){let t=null!=s?s.nextSibling:e.firstChild;P(e,t,void 0===l?null:l)}else e.textContent="";for(let e of o.keys())o.get(e)();return o.clear(),a(),c&&(i=!0,j(t=>{const n=B(e,c(),l,++z);o.set(n,t)})),[]}if(0===n.length){let e=new Array(t);for(let n=0;n<t;n++)f(e[n]=r[n],n,l);return a(),e}let u,d,h=0,g=0,p=!0,y=n.length-1,v=t-1,m=s?s.nextSibling:e.firstChild,b=m,w=l?l.previousSibling:e.lastChild,A=l;e:for(;p;){let t;for(p=!1,u=n[h],d=r[g];u===d;){if(h++,g++,b=m=L(m,O),y<h||v<g)break e;u=n[h],d=r[g]}for(u=n[y],d=r[v];u===d;){if(y--,v--,w=(A=L(w,M,!0)).previousSibling,y<h||v<g)break e;u=n[y],d=r[v]}for(u=n[y],d=r[g];u===d;){p=!0;let l=(t=L(w,M)).nextSibling;if(b!==l&&(R(e,l,w.nextSibling,b),w=t),g++,--y<h||v<g)break e;u=n[y],d=r[g]}for(u=n[h],d=r[v];u===d;){if(p=!0,t=L(m,O),m!==A){let n=t.previousSibling;R(e,m,t,A),A=n,m=t}if(v--,y<++h||v<g)break e;u=n[h],d=r[v]}}if(v<g){if(h<=y){let t,n;for(;h<=y;)t=(n=L(w,M,!0)).previousSibling,P(e,n,w.nextSibling),q(o,n),w=t,y--}return a(),r.slice(0)}if(y<h){if(g<=v)for(;g<=v;)f(r[g],g,A),g++;return a(),r.slice(0)}const x=new Array(v+1-g);for(let e=g;e<=v;e++)x[e]=-1;const C=new Map;for(let e=g;e<=v;e++)C.set(r[e],e);let S=0,N=[];for(let e=h;e<=y;e++)C.has(n[e])?(x[C.get(n[e])]=e,S++):N.push(e);if(0===S){const t=m!==e.firstChild||w!==e.lastChild;let n,l=m;for(A=w.nextSibling;l!==A;)n=L(l,O),q(o,l),t&&P(e,l,n),l=n,h++;!t&&(e.textContent="");for(let e=g;e<=v;e++)f(r[e],e,A);return a(),r.slice(0)}const k=function(e,t){let n=[],r=[],l=-1,o=new Array(e.length);for(let i=t,s=e.length;i<s;i++){let t=e[i];if(t<0)continue;let s=Q(n,t);-1!==s&&(o[i]=r[s]),s===l?(n[++l]=t,r[l]=i):t<n[s+1]&&(n[s+1]=t,r[s+1]=i)}for(let e=r[l];l>=0;e=o[e],l--)n[l]=e;return n}(x,g),E=[];let T,_=m,D=k.length-1;for(let e=h;e<=y;e++)E[e]=_,_=L(_,O);for(let t=0;t<N.length;t++){let n=E[N[t]];P(e,n,L(n,O)),q(o,n)}for(let t=v;t>=g;t--)k[D]===t?(A=E[x[k[D]]],D--):(-1===x[t]?T=f(r[t],t,A):(T=E[x[t]],R(e,T,L(T,O),A)),A=T);return a(),r.slice(0)})})}const G=Symbol("solid-node"),I=Symbol("solid-proxy");function J(e){return e[I]||(e[I]=new Proxy(e,X))}function K(e){return null!==e&&"object"==typeof e&&(e.__proto__===Object.prototype||Array.isArray(e))}function U(e){let t,n,r;if(t=null!=e&&e._state)return t;if(!K(e))return e;if(Array.isArray(e)){Object.isFrozen(e)&&(e=e.slice(0));for(let t=0,l=e.length;t<l;t++)(n=U(r=e[t]))!==r&&(e[t]=n)}else{Object.isFrozen(e)&&(e=Object.assign({},e));let t=Object.keys(e);for(let l=0,o=t.length;l<o;l++)(n=U(r=e[t[l]]))!==r&&(e[t[l]]=n)}return e}function W(e){let t=e[G];return t||(e[G]=t={}),t}const X={get(t,n){if("_state"===n)return t;if(n===I||n===G)return;const r=t[n],l=K(r);if(e.isListening()&&"function"!=typeof r){let o,i;l&&(o=W(r))&&(i=o._self||(o._self=e.makeDataNode(void 0))).current(),(i=(o=W(t))[n]||(o[n]=e.makeDataNode(void 0))).current()}return l?J(r):r},set:()=>!0,deleteProperty:()=>!0};function Y(e,t,n){if(n=U(n),e[t]===n)return;const r=Array.isArray(e)||!(t in e);void 0===n?delete e[t]:e[t]=n;let l,o=W(e);(l=o[t])&&l.next(),r&&(l=o._self)&&l.next()}function Z(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const l=n[r];Y(e,l,t[l])}}function $(e,t,n=[]){if(1===t.length){let r=t[0];if("function"==typeof r&&void 0===(r=r(J(e),n)))return;return void Z(e,r)}const r=t.shift(),l=typeof r,o=Array.isArray(e);if(Array.isArray(r))for(let l=0;l<r.length;l++)$(e,[r[l]].concat(t),n.concat([r[l]]));else if(o&&"function"===l)for(let l=0;l<e.length;l++)r(e[l],l)&&$(e,[l].concat(t),n.concat([l]));else if(o&&"object"===l){const{from:l=0,to:o=e.length-1,by:i=1}=r;for(let r=l;r<=o;r+=i)$(e,[r].concat(t),n.concat([r]))}else if(o&&"*"===r)for(let r=0;r<e.length;r++)$(e,[r].concat(t),n.concat([r]));else if(1===t.length){let l=t[0];if("function"==typeof l){const t=e[r];l=l(K(t)?J(t):t,n.concat([r]))}K(e[r])&&K(l)&&!Array.isArray(l)?Z(e[r],l):Y(e,r,l)}else $(e[r],t,n.concat([r]))}function ee(e,t,n,r,l){let o=t[n];if(e===o)return;if(!K(e)||null==o)return void(e!==o&&Y(t,n,e));if(Array.isArray(e)){if(e.length&&o.length&&(!r||l&&null!=e[0][l])){let t,n,i,s,u,c,f,a,d=new Array(e.length),h=new Map;for(i=0,s=Math.min(o.length,e.length);i<s&&(o[i]===e[i]||l&&o[i][l]===e[i][l]);i++)ee(e[i],o,i,r,l);for(s=o.length-1,u=e.length-1;s>=0&&u>=0&&(o[s]===e[u]||l&&o[s][l]===e[u][l]);s--,u--)d[u]=o[s];for(f=new Array(u+1),n=u;n>=i;n--)c=e[n],a=l?c[l]:c,t=h.get(a),f[n]=void 0===t?-1:t,h.set(a,n);for(t=i;t<=s;t++)c=o[t],a=l?c[l]:c,void 0!==(n=h.get(a))&&-1!==n&&(d[n]=o[t],n=f[n],h.set(a,n));for(n=i;n<e.length;n++)d.hasOwnProperty(n)?(Y(o,n,d[n]),ee(e[n],o,n,r,l)):Y(o,n,e[n])}else for(let t=0,n=e.length;t<n;t++)ee(e[t],o,t,r,l);return void(o.length>e.length&&Y(o,"length",e.length))}const i=Object.keys(e);for(let t=0,n=i.length;t<n;t++)ee(e[i[t]],o,i[t],r,l);const s=Object.keys(o);for(let t=0,n=s.length;t<n;t++)void 0===e[s[t]]&&Y(o,s[t],void 0)}const{root:te,cleanup:ne,sample:re,freeze:le}=e,oe=document.createElement("template"),ie=document.createElement("template"),se=document.createElement("template");oe.innerHTML="<table class='table table-striped latest-data'><tbody></tbody></table>",ie.innerHTML="<tr><td class='dbname'></td><td class='query-count'><span></span></td>\x3c!--7--\x3e</tr>",se.innerHTML="<td>\x3c!--9--\x3e<div class='popover left'><div class='popover-content'></div><div class='arrow'></div></div></td>";const ue=()=>{const[t,n]=function(t){return[J(t=U(t||{})),function(){const n=arguments;e.freeze(()=>{if(Array.isArray(n[0]))for(let e=0;e<n.length;e+=1)$(t,n[e]);else $(t,Array.prototype.slice.call(n))})}]}({databases:[]}),r=()=>{Monitoring.renderRate.ping();const e=ENV.generateData().toArray();Promise.resolve(e).then(e=>n(function(e,t={}){let n;Array.isArray(e)?n=e.pop():"object"==typeof e?(n=e,e=void 0):(e=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],t={});const{merge:r,key:l="id"}=t;return t=>{if(t=U(t),e){for(let n=0;n<e.length-1;n+=1)t=t[e[n]];ee(n,t,e[e.length-1],r,l)}else ee(n,{state:t},"state",r,l)}}(["databases",e],{merge:!0,key:null}))),setTimeout(r,ENV.timeout)};return setTimeout(r,0),function(){const e=oe.content.firstChild.cloneNode(!0);return V(e.firstChild,()=>t.databases,e=>(function(){const t=ie.content.firstChild.cloneNode(!0),n=t.firstChild,r=n.nextSibling,l=r.firstChild,o=r.nextSibling;return n.textContent=e.dbname,k(()=>l.className=e.lastSample.countClassName),H(l,()=>e.lastSample.nbQueries),V(t,()=>e.lastSample.topFiveQueries,e=>(function(){const t=se.content.firstChild.cloneNode(!0),n=t.firstChild,r=n.nextSibling.firstChild;return k(()=>t.className=e.elapsedClassName),H(t,()=>e.formatElapsed,null,n),H(r,()=>e.query),t})(),{},o),t})(),{}),e}()};te(()=>document.getElementById("dbmon").appendChild(ue()))}();

!function(){"use strict";function e(e,n){!function(e,n,t,l){var o=y(),r=h,i=d,s=null===f;h=o,d=l?null:o,n=s?function(e,n){f=a,a.changes.reset(),a.updates.reset();try{return e(n)}finally{h=d=f=null}}(e,n):e(n);h=r,d=i;var u=v(o,e,n,t);s&&function(e,n){if(a.changes.count>0||a.updates.count>0){a.time++;try{m(a)}finally{f=null,h=e,d=n}}}(r,i);p.node=u?null:o,p.value=n}(e,n,!1,!1)}function n(e,n){var t,l=h,o=0===e.length?null:function(){null===r||(null!==f?a.disposes.add(r):j(r))},r=null===o?c:y();let i=n||h;r!==i&&(r.owner=i),h=r;try{t=null===o?e():e(o)}finally{h=l}return null!==o&&v(r,null,void 0,!0)&&(r=null),t}class t{constructor(e){this.value=e,this.pending=r,this.log=null}current(){return null!==d&&function(e){null===e.log&&(e.log={node1:null,node1slot:0,nodes:null,nodeslots:null});b(e.log)}(this),this.value}next(e){if(null!==f)if(this.pending!==r){if(e!==this.pending)throw new Error("conflicting changes: "+e+" !== "+this.pending)}else this.pending=e,a.changes.add(this);else null!==this.log?(this.pending=e,a.changes.add(this),w()):this.value=e;return e}}class l{constructor(){this.fn=null,this.age=-1,this.state=i,this.source1=null,this.source1slot=0,this.sources=null,this.sourceslots=null,this.log=null,this.owner=h,this.owned=null,this.cleanups=null}current(){if(null!==d){if(this.age===a.time){if(this.state===u)throw new Error("circular dependency");x(this)}!function(e){null===e.log&&(e.log={node1:null,node1slot:0,nodes:null,nodeslots:null});b(e.log)}(this)}return this.value}}class o{constructor(){this.items=[],this.count=0}reset(){this.count=0}add(e){this.items[this.count++]=e}run(e){for(var n=this.items,t=0;t<this.count;t++)e(n[t]),n[t]=null;this.count=0}}var r={},i=0,s=1,u=2,c=new l,a={time:0,changes:new o,updates:new o,disposes:new o},f=null,d=null,h=null,g=null,p={node:null,value:void 0};function y(){var e=g;return null===e?e=new l:g=null,e}function v(e,n,t,l){var o,r=l||null===h||h===c?null:h,i=!e.noRecycle&&null===e.source1&&(null===e.owned&&null===e.cleanups||null!==r);if(i){if(g=e,e.owner=null,null!==r){if(null!==e.owned){if(null===r.owned)r.owned=e.owned;else for(o=0;o<e.owned.length;o++)r.owned.push(e.owned[o]);e.owned=null}if(null!==e.cleanups){if(null===r.cleanups)r.cleanups=e.cleanups;else for(o=0;o<e.cleanups.length;o++)r.cleanups.push(e.cleanups[o]);e.cleanups=null}}}else e.fn=n,e.value=t,e.age=a.time,null!==r&&(null===r.owned?r.owned=[e]:r.owned.push(e));return i}function b(e){var n,t=d,l=null===t.source1?-1:null===t.sources?0:t.sources.length;null===e.node1?(e.node1=t,e.node1slot=l,n=-1):null===e.nodes?(e.nodes=[t],e.nodeslots=[l],n=0):(n=e.nodes.length,e.nodes.push(t),e.nodeslots.push(l)),null===t.source1?(t.source1=e,t.source1slot=n):null===t.sources?(t.sources=[e],t.sourceslots=[n]):(t.sources.push(e),t.sourceslots.push(n))}function w(){var e=h;a.updates.reset(),a.time++;try{m(a)}finally{f=d=null,h=e}}function m(e){var n=f,t=0;for(f=e,e.disposes.reset();0!==e.changes.count||0!==e.updates.count||0!==e.disposes.count;)if(t>0&&e.time++,e.changes.run(C),e.updates.run(x),e.disposes.run(j),t++>1e5)throw new Error("Runaway clock detected");f=n}function C(e){e.value=e.pending,e.pending=r,e.log&&A(e.log)}function A(e){var n=e.node1,t=e.nodes;if(null!==n&&S(n),null!==t)for(var l=0,o=t.length;l<o;l++)S(t[l])}function S(e){var n=a.time;e.age<n&&(e.age=n,e.state=s,a.updates.add(e),null!==e.owned&&function e(n){for(var t=0;t<n.length;t++){var l=n[t];l.age=a.time,l.state=i,null!==l.owned&&e(l.owned)}}(e.owned),null!==e.log&&A(e.log))}function x(e){if(e.state===s){var n=h,t=d;h=d=e,e.state=u,N(e,!1),e.value=e.fn(e.value),e.state=i,h=n,d=t}}function N(e,n){var t,l,o=e.source1,r=e.sources,i=e.sourceslots,s=e.cleanups,u=e.owned;if(null!==s){for(t=0;t<s.length;t++)s[t](n);e.cleanups=null}if(null!==u){for(t=0;t<u.length;t++)j(u[t]);e.owned=null}if(null!==o&&(k(o,e.source1slot),e.source1=null),null!==r)for(t=0,l=r.length;t<l;t++)k(r.pop(),i.pop())}function k(e,n){var t,l,o=e.nodes,r=e.nodeslots;-1===n?e.node1=null:(t=o.pop(),l=r.pop(),n!==o.length&&(o[n]=t,r[n]=l,-1===l?t.source1slot=n:t.sourceslots[l]=n))}function j(e){e.fn=null,e.log=null,e.owner=null,N(e,!0)}const _=Symbol("solid-node"),T=Symbol("solid-proxy");function E(e){return e[T]||(e[T]=new Proxy(e,P))}function O(e){return null!==e&&"object"==typeof e&&(e.__proto__===Object.prototype||Array.isArray(e))}function M(e){let n,t,l;if(n=null!=e&&e._state)return n;if(!O(e))return e;if(Array.isArray(e)){Object.isFrozen(e)&&(e=e.slice(0));for(let n=0,o=e.length;n<o;n++)(t=M(l=e[n]))!==l&&(e[n]=t)}else{Object.isFrozen(e)&&(e=Object.assign({},e));let n=Object.keys(e);for(let o=0,r=n.length;o<r;o++)(t=M(l=e[n[o]]))!==l&&(e[n[o]]=t)}return e}function B(e){let n=e[_];return n||(e[_]=n={}),n}const P={get(e,n){if("_state"===n)return e;if(n===T||n===_)return;const l=e[n],o=O(l);if(null!==d&&"function"!=typeof l){let r,i;o&&(r=B(l))&&(i=r._self||(r._self=new t(void 0))).current(),(i=(r=B(e))[n]||(r[n]=new t(void 0))).current()}return o?E(l):l},set:()=>!0,deleteProperty:()=>!0};function R(e,n,t){if(t=M(t),e[n]===t)return;const l=Array.isArray(e)||!(n in e);void 0===t?delete e[n]:e[n]=t;let o,r=B(e);(o=r[n])&&o.next(),l&&(o=r._self)&&o.next()}function F(e,n){const t=Object.keys(n);for(let l=0;l<t.length;l+=1){const o=t[l];R(e,o,n[o])}}function q(e,n,t=[]){if(1===n.length){let l=n[0];if("function"==typeof l&&void 0===(l=l(E(e),t)))return;return void F(e,l)}const l=n.shift(),o=typeof l,r=Array.isArray(e);if(Array.isArray(l))for(let o=0;o<l.length;o++)q(e,[l[o]].concat(n),t.concat([l[o]]));else if(r&&"function"===o)for(let o=0;o<e.length;o++)l(e[o],o)&&q(e,[o].concat(n),t.concat([o]));else if(r&&"object"===o){const{from:o=0,to:r=e.length-1,by:i=1}=l;for(let l=o;l<=r;l+=i)q(e,[l].concat(n),t.concat([l]))}else if(1===n.length){let o=n[0];if("function"==typeof o){const n=e[l];o=o(O(n)?E(n):n,t.concat([l]))}O(e[l])&&O(o)&&!Array.isArray(o)?F(e[l],o):R(e,l,o)}else q(e[l],n,t.concat([l]))}function z(e){return[E(e=M(e||{})),function(){const n=arguments;!function(e){if(null!==f)e();else{(f=a).changes.reset();try{e(),w()}finally{f=null}}}(()=>{if(Array.isArray(n[0]))for(let t=0;t<n.length;t+=1)q(e,n[t]);else q(e,Array.prototype.slice.call(n))})}]}function Q(e,n,t,l,o){let r=n[t];if(e===r)return;if(!O(e)||null==r)return void(e!==r&&R(n,t,e));if(Array.isArray(e)){if(e.length&&r.length&&(!l||o&&null!=e[0][o])){let n,t,i,s,u,c,a,f,d=new Array(e.length),h=new Map;for(i=0,s=Math.min(r.length,e.length);i<s&&(r[i]===e[i]||o&&r[i][o]===e[i][o]);i++)Q(e[i],r,i,l,o);for(s=r.length-1,u=e.length-1;s>=0&&u>=0&&(r[s]===e[u]||o&&r[s][o]===e[u][o]);s--,u--)d[u]=r[s];for(a=new Array(u+1),t=u;t>=i;t--)c=e[t],f=o?c[o]:c,n=h.get(f),a[t]=void 0===n?-1:n,h.set(f,t);for(n=i;n<=s;n++)c=r[n],f=o?c[o]:c,void 0!==(t=h.get(f))&&-1!==t&&(d[t]=r[n],t=a[t],h.set(f,t));for(t=i;t<e.length;t++)d.hasOwnProperty(t)?(R(r,t,d[t]),Q(e[t],r,t,l,o)):R(r,t,e[t])}else for(let n=0,t=e.length;n<t;n++)Q(e[n],r,n,l,o);return void(r.length>e.length&&R(r,"length",e.length))}const i=Object.keys(e);for(let n=0,t=i.length;n<t;n++)Q(e[i[n]],r,i[n],l,o);const s=Object.keys(r);for(let n=0,t=s.length;n<t;n++)void 0===e[s[n]]&&R(r,s[n],void 0)}const V="__rGroup",D="nextSibling",G="previousSibling";let H=0;function I(e){const n=document.createElement("template");return n.innerHTML=e,n}function L(n,t,l,o,r){if(Array.isArray(t)){if(!t.length)return;let e=(t=function e(n,t){for(let l=0,o=t.length;l<o;l++){let o=t[l];o instanceof Node?11===o.nodeType?e(n,o.childNodes):n.push(o):null==o||!0===o||!1===o||(Array.isArray(o)?e(n,o):"string"==typeof o?n.push(document.createTextNode(o)):n.push(document.createTextNode(o.toString())))}return n}([],t))[0];1!==t.length&&(e[V]=t[t.length-1][V]=o);for(let e=0;e<t.length;e++)l?n.insertBefore(t[e],l):n.appendChild(t[e]);return e}let i,s=typeof t;if(null==t||"string"===s||"number"===s)t=document.createTextNode(t||"");else{if("function"===s)return e(()=>{const e=t();if(e){let t=l;i&&(t=i.nextSibling,n.removeChild(i)),i=L(n,e,t,o,r)}}),i||(i=document.createTextNode(""),l?n.insertBefore(i,l):n.appendChild(i)),i;11===t.nodeType&&(i=t.firstChild)&&i!==t.lastChild&&(i[V]=t.lastChild[V]=o)}return l?n.insertBefore(t,l):n.appendChild(t),r&&r(i||t),i||t}function J(e,n,t){const l=e[V];if(l)for(e=e[n];e&&e[V]!==l;)e=e[n];return t?e:e[n]}function K(e,n,t){let l;for(;n!==t;)l=n.nextSibling,e.removeChild(n),n=l}function U(e,n,t,l){return void 0===t?e.textContent="":(Array.isArray(n)?l=n[0]:null!=n&&""!=n&&null==l&&(l=J(t&&t.previousSibling||e.lastChild,G,!0)),l&&K(e,l,t),"")}function W(e,n,t,l,o){if(n===t)return t;e=l&&l.parentNode||o&&o.parentNode||e;const r=typeof n;if("string"===r||"number"===r)if("number"===r&&(n=n.toString()),void 0!==l){const r=l&&l.previousSibling||o&&o.nextSibling||e.lastChild;if(""===n)U(e,t,l);else if(""!==t&&"string"==typeof t)r.data=n;else{const o=document.createTextNode(n);""!==t&&null!=t?e.replaceChild(o,r):e.insertBefore(o,l)}t=n}else t=""!==t&&"string"==typeof t?e.firstChild.data=n:e.textContent=n;else if(null==n||"boolean"===r)t=U(e,t,l);else{if(!(n instanceof Node||Array.isArray(n)))throw new Error("content must be Node, stringable, or array of same");""!==t&&null!=t&&U(e,t,l),L(e,n,l,++H),t=n}return t}function X(n,t,l,o){if("function"!=typeof t)return W(n,t,o,l);let r;void 0!==l&&(r=l?l.previousSibling:n.lastChild),e((e=o)=>W(n,t(),e,l,r))}function Y(e,n,t,l){let o;for(;n!==t;)o=n.nextSibling,e.insertBefore(n,l),n=o}function Z(e,n){let t;(t=e.get(n))&&t(),e.delete(n)}function $(e,n){let t=-1,l=e.length;if(l>0&&e[l-1]<=n)return l-1;for(;l-t>1;){let o=Math.floor((t+l)/2);e[o]>n?l=o:t=o}return t}function ee(t,l,o,r,i){let s=new Map,u=!1,c=i?i.previousSibling:null;const{afterRender:a,fallback:f}=r;function g(e,l,r){return n(n=>L(t,o(e,l),r,++H,e=>s.set(e,n)))}function p(){a&&a(c?c.nextSibling:t.firstChild,i)}function y(){for(let e of s.keys())s.get(e)();s.clear()}var v;v=y,null===h?console.warn("cleanups created without a root or parent will never be run"):null===h.cleanups?h.cleanups=[v]:h.cleanups.push(v),e((e=[])=>{const o=l()||[];return function(e){var n,t=d;return d=null,n=e(),d=t,n}(()=>{t=i&&i.parentNode||c&&c.parentNode||t;const l=o.length;if(0===l||u){if(void 0!==i){let e=c?c.nextSibling:t.firstChild;K(t,e,i||null)}else t.textContent="";if(y(),0===l)return p(),f&&(u=!0,n(e=>L(t,f(),i,++H,n=>s.set(n,e)))),[];u=!1}if(0===e.length){for(let e=0;e<l;e++)g(o[e],e,i);return p(),o.slice(0)}let r,a,d=0,h=0,v=!0,b=e.length-1,w=l-1,m=c?c.nextSibling:t.firstChild,C=m,A=i?i.previousSibling:t.lastChild,S=i;e:for(;v;){let n;for(v=!1,r=e[d],a=o[h];r===a;){if(d++,h++,C=m=J(m,D),b<d||w<h)break e;r=e[d],a=o[h]}for(r=e[b],a=o[w];r===a;){if(b--,w--,A=(S=J(A,G,!0)).previousSibling,b<d||w<h)break e;r=e[b],a=o[w]}for(r=e[b],a=o[h];r===a;){v=!0;let l=J(A,G,!0);if(n=l.previousSibling,C!==l&&(Y(t,l,A.nextSibling,C),A=n),h++,--b<d||w<h)break e;r=e[b],a=o[h]}for(r=e[d],a=o[w];r===a;){if(v=!0,n=J(m,D),m!==S){let e=n.previousSibling;Y(t,m,n,S),S=e,m=n}if(w--,b<++d||w<h)break e;r=e[d],a=o[w]}}if(w<h){if(d<=b){let e,n;for(;d<=b;)e=(n=J(A,G,!0)).previousSibling,K(t,n,A.nextSibling),Z(s,n),A=e,b--}return p(),o.slice(0)}if(b<d){if(h<=w)for(;h<=w;)g(o[h],h,S),h++;return p(),o.slice(0)}const x=new Array(w+1-h);for(let e=h;e<=w;e++)x[e]=-1;const N=new Map;for(let e=h;e<=w;e++)N.set(o[e],e);let k=0,j=[];for(let n=d;n<=b;n++)N.has(e[n])?(x[N.get(e[n])]=n,k++):j.push(n);if(0===k){const e=m!==t.firstChild||A!==t.lastChild;let n,l=m;for(S=A.nextSibling;l!==S;)n=J(l,D),Z(s,l),e&&K(t,l,n),l=n,d++;!e&&(t.textContent="");for(let e=h;e<=w;e++)g(o[e],e,S);return p(),o.slice(0)}const _=function(e,n){let t=[],l=[],o=-1,r=new Array(e.length);for(let i=n,s=e.length;i<s;i++){let n=e[i];if(n<0)continue;let s=$(t,n);-1!==s&&(r[i]=l[s]),s===o?(t[++o]=n,l[o]=i):n<t[s+1]&&(t[s+1]=n,l[s+1]=i)}for(let e=l[o];o>=0;e=r[e],o--)t[o]=e;return t}(x,h),T=[];let E,O=m,M=_.length-1;for(let e=d;e<=b;e++)T[e]=O,O=J(O,D);for(let e=0;e<j.length;e++){let n=T[j[e]];K(t,n,J(n,D)),Z(s,n)}for(let e=w;e>=h;e--)_[M]===e?(S=T[x[_[M]]],M--):(-1===x[e]?E=g(o[e],e,S):(E=T[x[e]],Y(t,E,J(E,D),S)),S=E);return p(),o.slice(0)})})}const ne=I("<table class='table table-striped latest-data'><tbody></tbody></table>"),te=I("<tr><td class='dbname'></td><td class='query-count'><span></span></td></tr>"),le=I("<td><div class='popover left'><div class='popover-content'></div><div class='arrow'></div></div></td>"),oe=()=>{const[n,t]=z({databases:[]}),l=()=>{Monitoring.renderRate.ping();const e=ENV.generateData().toArray();Promise.resolve(e).then(e=>t(function(e,n={}){let t;Array.isArray(e)?t=e.pop():"object"==typeof e?(t=e,e=void 0):(e=Array.prototype.slice.call(arguments,0,-1),t=arguments[arguments.length-1],n={});const{merge:l,key:o="id"}=n;return n=>{if(n=M(n),e){for(let t=0;t<e.length-1;t+=1)n=n[e[t]];Q(t,n,e[e.length-1],l,o)}else Q(t,{state:n},"state",l,o)}}(["databases",e],{merge:!0,key:null}))),setTimeout(l,ENV.timeout)};return setTimeout(l,0),function(){const t=ne.content.firstChild.cloneNode(!0);return ee(t.firstChild,()=>n.databases,n=>(function(){const t=te.content.firstChild.cloneNode(!0),l=t.firstChild,o=l.nextSibling.firstChild;return l.textContent=n.dbname,e(()=>o.className=n.lastSample.countClassName),X(o,()=>n.lastSample.nbQueries),ee(t,()=>n.lastSample.topFiveQueries,n=>(function(){const t=le.content.firstChild.cloneNode(!0),l=t.firstChild,o=l.firstChild;return e(()=>t.className=n.elapsedClassName),X(t,()=>n.formatElapsed,l),X(o,()=>n.query),t})(),{},null),t})(),{}),t}()};n(()=>document.getElementById("dbmon").appendChild(oe()))}();
